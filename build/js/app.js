!function(e){function t(t){for(var n,s,a=t[0],h=t[1],c=t[2],u=0,p=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(e[n]=h[n]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var h=i[a];0!==r[h]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={0:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],h=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=h;o.push([27,1]),i()}({21:function(e,t,i){var n=i(22),r=i(23);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},23:function(e,t,i){(t=i(24)(!1)).push([e.i,"html,body{margin:0;padding:0;width:100%;height:100%}body{background-color:#000;overflow:hidden}.common_container{position:fixed;top:0;left:0;z-index:1}#content_container{position:relative}#gallery_container{position:fixed;top:0;left:0;z-index:10;visibility:visible}#dialog{position:fixed;top:0;left:0;color:#fff}#dialog button{padding:1em;font-size:1em}#buttons{position:fixed;top:0;right:0;z-index:1;background:#fff}#detail_container{position:fixed;top:0;left:0;z-index:20;visibility:hidden}#blocker{position:absolute;top:0;left:0;bottom:0;right:0}#background_container{position:fixed;top:0;left:0;z-index:5}#WebGL-output{width:100%;height:100%}#xr_container{z-index:200}",""]),e.exports=t},27:function(e,t,i){"use strict";i.r(t);i(21);var n={init:function(){Object.defineProperty(Object.prototype,"forIn",{value:function(e,t){t=t||this,Object.keys(this).forEach((function(i,n){var r=this[i];e.call(t,i,r,n)}),this)}}),Object.defineProperty(Object.prototype,"isEmpty",{value:function(e,t){return!Object.keys(this).length}})}},r=32,o="ShowDetail",s={enable:!1},a={GalleryContainer:"gallery_container",GalleryStage:"gallery_stage",DetailContainer:"detail_container",DetailStage:"detail_stage",DetailBlocker:"detail_blocker",XRCamera:"xr_camera",XRPlayer:"xr_player"},h=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.enable},c=function(){return window.innerWidth},l=function(){return window.innerHeight},u={init:function(){return this},setup:function(){},update:function(){},draw:function(){},destroy:function(){},onResize:function(){},onMouseMove:function(e){},onKeyUp:function(e){},onClick:function(e){}},p=i(0),f=i(13),d=i(14),m=i(6),g=i(7),v=i(3),y=i(9),b=i(4),w=i(11),P=(i(19),i(10)),O=i(8),T=(i(17),i(18),i(5)),j=i(15),k={uniforms:{tDiffuse:{value:null},color:{value:new j.Color(16711680)},color2:{value:new j.Color(16711680)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform vec3 color2;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec3 gradate = color * vUv.y + color2 * (1.0 - vUv.y);","gl_FragColor = vec4(v * gradate, texel.w );","}"].join("\n")};function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initStats=this._initStats.bind(this),this._stats=this._initStats(),this._scene=t,this._renderer=new p.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setClearColor(new p.Color(0),0),this._renderer.setSize(window.innerWidth,window.innerHeight),this._renderer.setPixelRatio(1),this._wrapper=document.getElementById("WebGL-output"),this._wrapper.appendChild(this._renderer.domElement),this.orbitControls=new m.a(this._scene.camera,this._renderer.domElement),this.orbitControls.autoRotate=!1,this.orbitControls.enableDamping=!0,this.orbitControls.dampingFactor=.2,this.clock=new p.Clock,this.onResize();var i=new g.a(this._scene.scene1,this._scene.camera);i.clear=!0;var n=new g.a(this._scene.scene2,this._scene.camera);n.clear=!1;new v.b(this._scene.scene1,this._scene.camera),new v.b(this._scene.scene2,this._scene.camera),new y.a;var r=new b.a(k);r.uniforms.color.value=new p.Color(7556260),r.uniforms.color2.value=new p.Color(322168),r.uniforms.alpha=.8,r.enabled=!0,new b.a(O.a).enabled=!0,O.a.uniforms.resolution.value=new p.Vector2(1/window.innerWidth,1/window.innerHeight);var o=new w.a(2,15,3,64);o.enabled=!0;var s=new b.a(T.a);s.renderToScreen=!0,this.composer=new P.a(this._renderer),this.composer.renderTarget1.stencilBuffer=!0,this.composer.renderTarget2.stencilBuffer=!0,this.composer.addPass(i),this.composer.addPass(n),this.composer.addPass(r),this.composer.addPass(o),this.composer.addPass(s);var a=new function(){this.select="Colorify",this.color=5154702,this.color2=2915734,this.strength=.1,this.kernelSize=5,this.sigma=1,this.resolution=64,this.changeColor=function(){r.uniforms.color.value=new p.Color(a.color)},this.changeColor2=function(){r.uniforms.color2.value=new p.Color(a.color2)}},h=new f.a;h.add(a,"select",["colorify","BloomPass"]).onChange(a.switchShader);var c=h.addFolder("Colorify");c.addColor(a,"color").onChange(a.changeColor),c.addColor(a,"color2").onChange(a.changeColor2);var l=h.addFolder("BloomPass");l.add(a,"strength",1,10).onChange(a.updateEffectBloom),l.add(a,"kernelSize",1,100).onChange(a.updateEffectBloom),l.add(a,"sigma",1,10).onChange(a.updateEffectBloom),l.add(a,"resolution",0,1024).onChange(a.updateEffectBloom),this.update()}var t,i,n;return t=e,(i=[{key:"update",value:function(){this._stats.update();var e=this.clock.getDelta();this.orbitControls.update(e),this._renderer.autoClear=!1,this._scene.update(),this.composer.render()}},{key:"draw",value:function(){}},{key:"onResize",value:function(){var e=this._wrapper.clientWidth,t=this._wrapper.clientHeight;this._renderer.domElement.setAttribute("width",String(e)),this._renderer.domElement.setAttribute("height",String(t)),this._renderer.setPixelRatio(window.devicePixelRatio||1),this._renderer.setSize(e,t),this._scene.camera.aspect=e/t,this._scene.camera.updateProjectionMatrix()}},{key:"_initStats",value:function(){return this._stats=new d.a,this._stats.setMode(0),this._stats.domElement.style.position="absolute",this._stats.domElement.style.left="0px",this._stats.domElement.style.top="0px",document.getElementById("Stats-output").appendChild(this._stats.domElement),this._stats}}])&&S(t.prototype,i),n&&S(t,n),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,i){return t&&_(e.prototype,t),i&&_(e,i),e}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=I(e);if(t){var r=I(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return z(this,i)}}function z(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(e){L(i,e);var t=D(i);function i(){var e;return M(this,i),(e=t.call(this,45,window.innerWidth/window.innerHeight,1,1e3)).frame=0,e.camPos=new p.Vector3(100,100,120),e.camTarget=new p.Vector3(-270,300,320),e.lookPos=new p.Vector3(45,50,45),e.lookTarget=new p.Vector3(45,50,45),e.getCamPos=e.getCamPos.bind(A(e)),window.addEventListener("click",e.getCamPos),e}return C(i,[{key:"update",value:function(){this.frame+=1,this.camPos.x+=.01*(this.camTarget.x-this.camPos.x),this.camPos.y+=.01*(this.camTarget.y-this.camPos.y),this.camPos.z+=.01*(this.camTarget.z-this.camPos.z),this.position.set(this.camPos.x,this.camPos.y,this.camPos.z),this.frame>=0&&this.frame<1320?(this.lookAt(new p.Vector3(45,50,45)),350==this.frame&&(this.camTarget=new p.Vector3(420,80,-100)),800==this.frame&&(this.camTarget=new p.Vector3(-140,180,160)),1100==this.frame&&(this.camTarget=new p.Vector3(-300,30,-220))):this.frame>=1320&&(this.lookPos.x+=.02*(this.lookTarget.x-this.lookPos.x),this.lookPos.y+=.02*(this.lookTarget.y-this.lookPos.y),this.lookPos.z+=.02*(this.lookTarget.z-this.lookPos.z),this.lookAt(this.lookPos),1420==this.frame&&(this.lookTarget=new p.Vector3(140,70,140)),1420==this.frame&&(this.camTarget=new p.Vector3(-170,30,600)),1620==this.frame&&(this.camTarget=new p.Vector3(-300,70,300)))}},{key:"getCamPos",value:function(){console.log(this.frame),console.log(this.getWorldPosition())}}]),i}(p.PerspectiveCamera),W=(p.PerspectiveCamera,p.PerspectiveCamera,i(28)),G=i(16);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=X(e);if(t){var r=X(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return F(this,i)}}function F(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(o,e);var t,i,n,r=N(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).frame=0,e.prepareMesh=e.prepareMesh.bind(K(e)),e.checkIntersection=e.checkIntersection.bind(K(e)),e.meshes={},e.meshes[0]||(e.meshes[0]=e.prepareMesh()),e}return t=o,(i=[{key:"prepareMesh",value:function(){for(var e=new Float32Array(300),t=0;t<e.length;t+=3)e[t]=e[t+1]=e[t+2]=0;var i=new G.MeshLine;i.setGeometry(e,(function(e){return e}));var n=new G.MeshLineMaterial({color:16776960,lineWidth:.6,depthTest:!1});return this.mesh=new p.Mesh(i.geometry,n),this.mesh.geo=e,this.mesh.g=i,this.add(this.mesh),this.mesh}},{key:"checkIntersection",value:function(){this.mesh=this.meshes[0];for(var e=this.mesh.geo,t=this.mesh.g,i=0;i<e.length;i+=3)e[i]=1*e[i+3],e[i+1]=1*e[i+4],e[i+2]=1*e[i+5];var n=Math.random(),r=100*(2*Math.random()-1);n>.66?(e[e.length-6]>90&&r>0&&(r*=-1),e[e.length-6]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6]+r,e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]):n>.33?(e[e.length-5]>90&&r>0&&(r*=-1),e[e.length-5]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5]+r,e[e.length-1]=e[e.length-4]):(e[e.length-4]>90&&r>0&&(r*=-1),e[e.length-4]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]+r),t.setGeometry(e)}},{key:"update",value:function(){if(this.frame+=1,this.frame%4==0)for(var e in this.meshes)this.checkIntersection(e)}}])&&V(t.prototype,i),n&&V(t,n),o}(p.Object3D);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t,i){return t&&Y(e.prototype,t),i&&Y(e,i),e}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=ne(e);if(t){var r=ne(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ie(this,i)}}function ie(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){$(i,e);var t=te(i);function i(){var e;Z(this,i),(e=t.call(this)).camera=new B;var n=new p.AmbientLight(16777215,.4),r=new p.SpotLight(16777215);return r.position.set(80,60,50),r.intensity=1,e.add(r),e.scene1=new oe,e.add(e.scene1),e.scene2=new se,e.scene2.add(n),e.scene2.add(r),e.add(e.scene2),e}return Q(i,[{key:"update",value:function(){this.camera.update(),this.scene1.update(),this.scene2.update()}}]),i}(p.Scene),oe=function(e){$(i,e);var t=te(i);function i(){var e;return Z(this,i),(e=t.call(this))._line=new q,e._line.position.set(150,70,150),e.add(e._line),e._line2=new q,e._line.position.set(150,70,150),e.add(e._line2),e}return Q(i,[{key:"update",value:function(){this._line.update(),this._line2.update()}}]),i}(p.Scene),se=function(e){$(i,e);var t=te(i);function i(){var e;Z(this,i),(e=t.call(this)).frame=0,e.meshList=[],e.meshGroup=new p.Group;var n=new p.MeshBasicMaterial({color:16777215,wireframe:!0,opacity:.9,transparent:!0});e.PlateNum=320,e.positions=[],e.posTarget=[];for(var r=0;r<e.PlateNum;r++)e.floorsize=27,e.geometry=new p.PlaneBufferGeometry(e.floorsize,e.floorsize),e.mesh=new p.Mesh(e.geometry,n),e.mesh.position.set(0,0,0),e.mesh.rotation.x=90*Math.PI/180,e.meshGroup.add(e.mesh),e.meshList.push(e.mesh),e.positions.push(e.mesh.position.x,e.mesh.position.y,e.mesh.position.z),e.posTarget.push(0,0,0);return e.add(e.meshGroup),e.animeScene=0,e.platAnime=[0,1,2,3,4,5,6,7,8,9],e.clock=new p.Clock,e.tSpeed=2,e.easeElapsedTime=0,e.eansingBool=!0,e.tl=[],e}return Q(i,[{key:"update2",value:function(){this.frame+=1;for(var e=0;e<this.meshList.length;e++)for(var t=0;t<4;t++)if(e>=80*t&&e<80*(t+1))for(var i=0;i<4;i++)if(e>=80*t+20*i&&e<80*t+20*(i+1))for(var n=0;n<10;n++){if(e>=80*t+20*i+2*n&&e<80*t+20*i+2*(n+1))(new W.b).to(this.meshList[e].position,4,{ease:W.a.easeOut,x:25*t,y:0,z:0})}}},{key:"update",value:function(){if(this.frame+=1,1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var e=0;e<this.meshList.length;e++){this.meshList[e].position.x=this.positions[3*e+0],this.meshList[e].position.y=this.positions[3*e+1],this.meshList[e].position.z=this.positions[3*e+2];for(var t=0;t<3;t++){var i=this.positions[3*e+t],n=this.posTarget[3*e+t];this.positions[3*e+t]=i*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var o=0;o<4;o++)r>=80*o&&r<80*(o+1)&&(this.posTarget[3*r+0]=25*o,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(110==this.frame){for(var s=0;s<this.meshList.length;s++)for(var a=0;a<4;a++)if(s>=80*a&&s<80*(a+1))for(var h=0;h<4;h++)s>=80*a+20*h&&s<80*a+20*(h+1)&&(this.posTarget[3*s+0]=25*a,this.posTarget[3*s+1]=0,this.posTarget[3*s+2]=25*h);this.easeElapsedTime=0}if(170==this.frame){for(var c=0;c<this.meshList.length;c++)for(var l=0;l<4;l++)if(c>=80*l&&c<80*(l+1))for(var u=0;u<4;u++)if(c>=80*l+20*u&&c<80*l+20*(u+1))for(var p=0;p<20;p++)c>=80*l+20*u+1*p&&c<80*l+20*u+1*(p+1)&&(this.posTarget[3*c+0]=25*l,this.posTarget[3*c+1]=7*p,this.posTarget[3*c+2]=25*u);this.easeElapsedTime=0,this.tSpeed=4}if(280==this.frame){for(var f=0;f<this.meshList.length;f++)for(var d=0;d<4;d++)if(f>=80*d&&f<80*(d+1))for(var m=0;m<4;m++)if(f>=80*d+20*m&&f<80*d+20*(m+1))for(var g=0;g<10;g++)f>=80*d+20*m+2*g&&f<80*d+20*m+2*(g+1)&&(this.posTarget[3*f+0]=45*m,this.posTarget[3*f+1]=10*g,this.posTarget[3*f+2]=45*d);this.easeElapsedTime=0,this.tSpeed=4}if(430==this.frame){for(var v=0;v<this.meshList.length;v++)for(var y=0;y<4;y++)if(v>=80*y&&v<80*(y+1))for(var b=0;b<4;b++)if(v>=80*y+20*b&&v<80*y+20*(b+1))for(var w=0;w<10;w++)v>=80*y+20*b+2*w&&v<80*y+20*b+2*(w+1)&&(this.posTarget[3*v+0]=45*y,this.posTarget[3*v+1]=0,this.posTarget[3*v+2]=45*b);this.easeElapsedTime=0,this.tSpeed=7}if(490==this.frame){for(var P=0;P<this.meshList.length;P++)for(var O=0;O<4;O++)if(P>=80*O&&P<80*(O+1))for(var T=0;T<4;T++)if(P>=80*O+20*T&&P<80*O+20*(T+1))for(var j=0;j<10;j++)P>=80*O+20*T+2*j&&P<80*O+20*T+2*(j+1)&&(this.posTarget[3*P+0]=30*O,this.posTarget[3*P+1]=0,this.posTarget[3*P+2]=30*T);this.easeElapsedTime=0,this.tSpeed=4}if(550==this.frame){for(var k=0;k<this.meshList.length;k++)for(var S=0;S<8;S++)if(k>=40*S&&k<40*(S+1))for(var x=0;x<8;x++)if(k>=40*S+5*x&&k<40*S+5*(x+1))for(var E=0;E<5;E++)k>=40*S+5*x+1*E&&k<40*S+5*x+1*(E+1)&&(this.posTarget[3*k+0]=15*S,this.posTarget[3*k+1]=0,this.posTarget[3*k+2]=15*x);this.easeElapsedTime=0,this.tSpeed=4}if(600==this.frame){for(var M=0;M<this.meshList.length;M++)for(var _=0;_<8;_++)if(M>=40*_&&M<40*(_+1))for(var C=0;C<8;C++)if(M>=40*_+5*C&&M<40*_+5*(C+1))for(var L=0;L<5;L++)M>=40*_+5*C+1*L&&M<40*_+5*C+1*(L+1)&&(this.posTarget[3*M+0]=20*_,this.posTarget[3*M+1]=30*Math.sin((30*(_+C)+2*(this.frame+60))*Math.PI/180),this.posTarget[3*M+2]=20*C);this.easeElapsedTime=0}if(660==this.frame&&(this.eansingBool=!1),this.frame>=660&&this.frame<780){for(var R=0;R<this.meshList.length;R++)this.meshList[R].position.x=this.positions[3*R+0],this.meshList[R].position.y=this.positions[3*R+1],this.meshList[R].position.z=this.positions[3*R+2];for(var D=0;D<this.meshList.length;D++)for(var z=0;z<8;z++)if(D>=40*z&&D<40*(z+1))for(var A=0;A<8;A++)if(D>=40*z+5*A&&D<40*z+5*(A+1))for(var I=0;I<5;I++)D>=40*z+5*A+1*I&&D<40*z+5*A+1*(I+1)&&(this.positions[3*D+0]=20*z,this.positions[3*D+1]=30*Math.sin((30*(z+A)+2*this.frame)*Math.PI/180),this.positions[3*D+2]=20*A)}if(780==this.frame&&(this.eansingBool=!0),780==this.frame){for(var B=0;B<this.meshList.length;B++)for(var W=0;W<8;W++)if(B>=40*W&&B<40*(W+1))for(var G=0;G<8;G++)if(B>=40*W+5*G&&B<40*W+5*(G+1))for(var H=0;H<5;H++)B>=40*W+5*G+1*H&&B<40*W+5*G+1*(H+1)&&(this.posTarget[3*B+0]=80*Math.sin(2*B*Math.PI/180)+50,this.posTarget[3*B+1]=25,this.posTarget[3*B+2]=80*Math.cos(2*B*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=30}if(900==this.frame){for(var V=0;V<this.meshList.length;V++)for(var U=0;U<4;U++)if(V>=80*U&&V<80*(U+1))for(var N=0;N<4;N++)if(V>=80*U+20*N&&V<80*U+20*(N+1))for(var F=0;F<10;F++)V>=80*U+20*N+2*F&&V<80*U+20*N+2*(F+1)&&(this.posTarget[3*V+0]=4*N+50,this.posTarget[3*V+1]=1.5*F+25,this.posTarget[3*V+2]=4*U+50);this.easeElapsedTime=0,this.tSpeed=8}if(1e3==this.frame){for(var K=0;K<this.meshList.length;K++)for(var X=0;X<4;X++)if(K>=80*X&&K<80*(X+1))for(var q=0;q<4;q++)if(K>=80*X+20*q&&K<80*X+20*(q+1))for(var J=0;J<10;J++)K>=80*X+20*q+2*J&&K<80*X+20*q+2*(J+1)&&(this.posTarget[3*K+0]=70*Math.sin(4*K*Math.PI/180)+50,this.posTarget[3*K+1]=70*Math.cos(40*(X+q+J)*Math.PI/180)+25,this.posTarget[3*K+2]=-70*Math.sin(8*K*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=12}if(1150==this.frame){for(var Z=0;Z<this.meshList.length;Z++)for(var Y=0;Y<4;Y++)if(Z>=80*Y&&Z<80*(Y+1))for(var Q=0;Q<4;Q++)if(Z>=80*Y+20*Q&&Z<80*Y+20*(Q+1))for(var $=0;$<10;$++)Z>=80*Y+20*Q+2*$&&Z<80*Y+20*Q+2*($+1)&&(this.posTarget[3*Z+0]=25*Y,this.posTarget[3*Z+1]=0,this.posTarget[3*Z+2]=25*Q);this.easeElapsedTime=0,this.tSpeed=4}if(1270==this.frame){for(var ee=0;ee<this.meshList.length;ee++)for(var te=0;te<4;te++)if(ee>=80*te&&ee<80*(te+1))for(var ie=0;ie<4;ie++)if(ee>=80*te+20*ie&&ee<80*te+20*(ie+1))for(var ne=0;ne<20;ne++)ee>=80*te+20*ie+1*ne&&ee<80*te+20*ie+1*(ne+1)&&(this.posTarget[3*ee+0]=20*te,this.posTarget[3*ee+1]=5*ne,this.posTarget[3*ee+2]=20*ie);this.easeElapsedTime=0,this.tSpeed=4}if(1470==this.frame){for(var re=0;re<this.meshList.length;re++)for(var oe=0;oe<4;oe++)if(re>=80*oe&&re<80*(oe+1))for(var se=0;se<4;se++)if(re>=80*oe+20*se&&re<80*oe+20*(se+1))for(var ae=0;ae<10;ae++)re>=80*oe+20*se+2*ae&&re<80*oe+20*se+2*(ae+1)&&(this.posTarget[3*re+0]=25*(oe+ae),this.posTarget[3*re+1]=15*ae,this.posTarget[3*re+2]=25*(se+ae));this.easeElapsedTime=0,this.tSpeed=10}}}]),i}(p.Scene);function ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function he(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(i),!0).forEach((function(t){ce(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ce(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var le=he(he({},u),{},{props:{instance:null},init:function(){return this.props.instance=new x(new re),this},setup:function(){},update:function(){this.props.instance.update()},draw:function(){this.props.instance.draw()},destroy:function(){}}),ue=i(2),pe={imgPath:["./img/poster01.png","./img/poster02.png","./img/poster03.png","./img/poster04.png","./img/poster05.png","./img/poster06.png","./img/poster07.png","./img/poster08.png","./img/poster09.png","./img/poster10.png"],posterTitle:["ネットワークとクラウドを\n活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を\n両立するプログラミング言語","不具合局所化のための\nプログラムスペクトルの可視化ならびに分析","経路計画機能のテスト・設定調整の自動探索","適切な「ぼかし」で、ソフトウェアの複雑さに挑む"]};function fe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var de=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parameter=t||{},this.imgPath=this.parameter.imgPath,this.posterTitle=this.parameter.posterTitle,this.boardWidth=80,this.boardHeight=45,this.fontSize=3.5,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.textureLoad()}},{key:"createPlaneObject",value:function(){var e=new p.PlaneGeometry(this.boardWidth,this.boardHeight),t=new p.MeshBasicMaterial({map:this.imgTexture,transparent:!0,opacity:0});this.plane=new p.Mesh(e,t),t.opacity=0;var i=this.createLabel(this.posterTitle),n=new p.WireframeGeometry(e),r=new p.LineSegments(n);return r.material.depthTest=!1,r.material.opacity=0,r.material.transparent=!0,this.poster=new p.Group,this.poster.add(i),this.poster.add(this.plane),this.poster.add(r),this.poster}},{key:"textureLoad",value:function(){var e=new p.TextureLoader;this.imgTexture=e.load(this.imgPath)}},{key:"log",value:function(){console.log("boster call")}},{key:"createLabel",value:function(e){var t=document.createElement("canvas");t.width=4*this.boardWidth,t.height=2*this.boardHeight;var i=t.getContext("2d");i.scale(4,4),i.font=this.fontSize+"px Arial, meiryo, sans-serif",i.fillStyle="rgba(255,255,255,1)";var n=e.split("\n"),r=1.2*i.measureText("あ").width;n.forEach((function(e,t){i.fillText(e,0,10+r*t)}));var o=new p.Texture(t);o.needsUpdate=!0;var s=new p.PlaneGeometry(t.width/4,t.height/4),a=new p.MeshBasicMaterial({map:o,transparent:!0,opacity:0}),h=new p.Mesh(s,a);return h.position.y=-35,h}}])&&fe(t.prototype,i),n&&fe(t,n),e}();function me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.setup(),this.createScene(),this.createCamera(),this.addOrbitControls(),this.addAmbientLight(),this.addDirectionalLight(),this.addBorad()}},{key:"setup",value:function(){this.mesheList=[],this.backgroundColor="#000000",this.width=window.innerWidth,this.height=window.innerHeight,this.mouse3D=new p.Vector2,this.meshList=[],this.raycaster=new p.Raycaster,this.rayReceiveObjects=[],this.posterData=pe,this.boardLength=this.posterData.imgPath.length,this.boardPosRadius=200,this.boardAngle=180/this.boardLength,this.categoryAngle=180+this.boardAngle/2}},{key:"draw",value:function(){this.raycaster.setFromCamera(this.mouse3D,this.camera);var e=this.raycaster.intersectObjects(this.rayReceiveObjects);this.rayReceiveObjects.map((function(t){e.length>0&&t===e[0].object?t.material.color.setHex(16777215):t.material.color.setHex(2236962)})),this.controls.update(),ue.a.update(),this.renderer.render(this.scene,this.camera)}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;this.mouse3D.x=t/this.width*2-1,this.mouse3D.y=-i/this.height*2+1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"onClick",value:function(e){var t=this.raycaster.intersectObjects(this.rayReceiveObjects);if(t.length>0){var i=t[0].object.name;console.dir(i),document.dispatchEvent(new CustomEvent(o,{detail:{message:"Please show me a detail!"}}))}}},{key:"addBorad",value:function(){for(var e=this,t=function(t){var i={imgPath:e.posterData.imgPath[t],posterTitle:e.posterData.posterTitle[t]};e.board=new de(i);var n=e.board.createPlaneObject(),r=void 0;r=t%2==0?20:-50,n.position.set(e.boardPosRadius*Math.cos(p.Math.degToRad(t*e.boardAngle+e.categoryAngle)),r,e.boardPosRadius*Math.sin(p.Math.degToRad(t*e.boardAngle+e.categoryAngle))),n.lookAt(new p.Vector3(0,0,0)),e.scene.add(n),e.meshList.push(n),e.meshList[t].children[1].name="poster"+t,e.rayReceiveObjects.push(e.meshList[t].children[1]);var o={x:n.position.x,y:n.position.y,z:n.position.z,alpha:n.children[0].material.opacity},s={x:o.x,y:o.y+100,z:o.z,alpha:1},a=new ue.a.Tween(o).to(s,500).easing(ue.a.Easing.Cubic.InOut).onUpdate((function(){n.position.x=o.x,n.position.y=o.y,n.position.z=o.z,n.children[2].material.opacity=o.alpha})).delay(1e3+50*t).start(),h={alphaA:0,alphaB:1},c=new ue.a.Tween(h).to({alphaA:1,alphaB:0},500).easing(ue.a.Easing.Cubic.InOut).onUpdate((function(){n.children[0].material.opacity=h.alphaA,n.children[1].material.opacity=h.alphaA,n.children[2].material.opacity=h.alphaB})).delay(1e3+10*t);a.chain(c)},i=0;i<this.boardLength;i++)t(i)}},{key:"addNullBox",value:function(){var e=new p.BoxGeometry(10,10,10),t=new p.MeshNormalMaterial;this.nullMesh=this.getMesh(e,t),this.scene.add(this.nullMesh);var i=0,n=80,r=-50;this.nullMesh.position.set(i,n,r)}},{key:"createScene",value:function(){this.scene=new p.Scene,this.renderer=new p.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=p.PCFSoftShadowMap,this.renderer.autoClear=!1,document.getElementById(a.GalleryStage).appendChild(this.renderer.domElement)}},{key:"createCamera",value:function(){this.camera=new p.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1),this.camera.position.set(0,80,150),this.camera.lookAt(new p.Vector3(0,50,-80)),this.scene.add(this.camera)}},{key:"addOrbitControls",value:function(){this.controls=new m.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.enableZoom=!0,this.zoomSpeed=1,this.controls.enablePan=!0}},{key:"addAmbientLight",value:function(){var e=new p.AmbientLight(4210752,1);this.scene.add(e)}},{key:"addDirectionalLight",value:function(){var e=new p.DirectionalLight(16777215,1);e.position.set(0,300,30),this.scene.add(e)}},{key:"addSpotLight",value:function(){var e=new p.SpotLight("#7bccd7",1,1e3);e.position.set(0,27,0),e.castShadow=!0,this.scene.add(e)}},{key:"addRectLight",value:function(){var e=new p.RectAreaLight("#341212",1,2e3,2e3);e.position.set(5,50,50),e.lookAt(0,0,0),this.scene.add(e)}},{key:"addPointLight",value:function(e,t){var i=new p.PointLight(e,1,1e3,1);i.position.set(t.x,t.y,t.z),this.scene.add(i)}},{key:"addHelper",value:function(){var e=new p.GridHelper(500,50);this.scene.add(e);var t=new p.AxesHelper(500);this.scene.add(t)}},{key:"getMesh",value:function(e,t){var i=new p.Mesh(e,t);return i.castShadow=!0,i.receiveShadow=!0,i}}])&&me(t.prototype,i),n&&me(t,n),e}();function ve(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ye(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(i),!0).forEach((function(t){be(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var we=ye(ye({},u),{},{props:{instance:null},init:function(){return this.props.instance=new ge,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(e){this.props.instance.onMouseMove(e)},onClick:function(e){this.props.instance.onClick(e)}}),Pe=i(20),Oe=function(e){p.Object3D.call(this),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))};(Oe.prototype=Object.create(p.Object3D.prototype)).constructor=Oe;var Te=function(e){Oe.call(this,e)};(Te.prototype=Object.create(Oe.prototype)).constructor=Te;var je=function(){var e,t,i,n,r=new p.Matrix4,o={camera:{fov:0,style:""},objects:new WeakMap},s=document.createElement("div");s.style.overflow="hidden",this.domElement=s;var a=document.createElement("div");a.style.WebkitTransformStyle="preserve-3d",a.style.transformStyle="preserve-3d",a.style.pointerEvents="none",s.appendChild(a);var h=/Trident/i.test(navigator.userAgent);function c(e){return Math.abs(e)<1e-10?0:e}function l(e){var t=e.elements;return"matrix3d("+c(t[0])+","+c(-t[1])+","+c(t[2])+","+c(t[3])+","+c(t[4])+","+c(-t[5])+","+c(t[6])+","+c(t[7])+","+c(t[8])+","+c(-t[9])+","+c(t[10])+","+c(t[11])+","+c(t[12])+","+c(-t[13])+","+c(t[14])+","+c(t[15])+")"}function u(e,t){var r=e.elements,o="matrix3d("+c(r[0])+","+c(r[1])+","+c(r[2])+","+c(r[3])+","+c(-r[4])+","+c(-r[5])+","+c(-r[6])+","+c(-r[7])+","+c(r[8])+","+c(r[9])+","+c(r[10])+","+c(r[11])+","+c(r[12])+","+c(r[13])+","+c(r[14])+","+c(r[15])+")";return h?"translate(-50%,-50%)translate("+i+"px,"+n+"px)"+t+o:"translate(-50%,-50%)"+o}this.getSize=function(){return{width:e,height:t}},this.setSize=function(r,o){i=(e=r)/2,n=(t=o)/2,s.style.width=r+"px",s.style.height=o+"px",a.style.width=r+"px",a.style.height=o+"px"};var f,d,m=(f=new p.Vector3,d=new p.Vector3,function(e,t){return f.setFromMatrixPosition(e.matrixWorld),d.setFromMatrixPosition(t.matrixWorld),f.distanceToSquared(d)});function g(e){for(var t=function(e){var t=[];return e.traverse((function(e){e instanceof Oe&&t.push(e)})),t}(e).sort((function(e,t){return o.objects.get(e).distanceToCameraSquared-o.objects.get(t).distanceToCameraSquared})),i=t.length,n=0,r=t.length;n<r;n++)t[n].element.style.zIndex=i-n}this.render=function(e,t){var p=t.projectionMatrix.elements[5]*n;if(o.camera.fov!==p&&(t.isPerspectiveCamera?(s.style.WebkitPerspective=p+"px",s.style.perspective=p+"px"):(s.style.WebkitPerspective="",s.style.perspective=""),o.camera.fov=p),!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.isOrthographicCamera)var f=-(t.right+t.left)/2,d=(t.top+t.bottom)/2;var v=t.isOrthographicCamera?"scale("+p+")translate("+c(f)+"px,"+c(d)+"px)"+l(t.matrixWorldInverse):"translateZ("+p+"px)"+l(t.matrixWorldInverse),y=v+"translate("+i+"px,"+n+"px)";o.camera.style===y||h||(a.style.WebkitTransform=y,a.style.transform=y,o.camera.style=y),function e(t,i,n){if(t instanceof Oe){var s;t instanceof Te?(r.copy(i.matrixWorldInverse),r.transpose(),r.copyPosition(t.matrixWorld),r.scale(t.scale),r.elements[3]=0,r.elements[7]=0,r.elements[11]=0,r.elements[15]=1,s=u(r,n)):s=u(t.matrixWorld,n);var c=t.element,l=o.objects.get(t);if(void 0===l||l.style!==s){c.style.WebkitTransform=s,c.style.transform=s;var p={style:s};h&&(p.distanceToCameraSquared=m(i,t)),o.objects.set(t,p)}c.parentNode!==a&&a.appendChild(c)}for(var f=0,d=t.children.length;f<d;f++)e(t.children[f],i,n)}(e,t,v),h&&g(e)}};var ke=function e(t,i,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=document.createElement("div");s.style.width="800px",s.style.height="450px";var a=document.createElement("iframe");a.style.width="800px",a.style.height="450px",a.style.border="0px",a.src=t,s.appendChild(a);var h=new Oe(s);return h.position.set(i,n,r),h.rotation.y=o,h};var Se=window.pdfjsLib,xe=function e(t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.room_id="a07";var o=document.createElement("canvas");o.width=800,o.height=500;var s=o.getContext("2d");Se.getDocument("./pdf/".concat(this.room_id,".pdf")).promise.then((function(e){var t;t=1,e.getPage(t).then((function(e){var t=e.getViewport({scale:800/720}),i={canvasContext:s,viewport:t};e.render(i).promise.then((function(){console.log("Page rendered")}))}))}));var a=new Oe(o);return a.position.set(t,i,n),a.rotation.y=r,a};function Ee(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(i),!0).forEach((function(t){_e(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ee(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Ce={props:{isEnable:!1},init:function(){var e=this.props,t=e.camera,i=e.scene,n=e.renderer,r=e.controls,o=document.getElementById(a.DetailStage);(t=new p.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,5e3)).position.set(0,0,2e3),i=new p.Scene,(n=new je).setSize(window.innerWidth,window.innerHeight),o.appendChild(n.domElement);var s=new p.Group;s.add(new xe(0,300,450,0)),s.add(new ke("https://www.youtube.com/embed/G9AtkiCESAg",1e3,0,0,-Math.PI/8)),s.add(new ke("https://www.youtube.com/embed/9PVjlAm-A1A",-1e3,0,0,Math.PI/8)),s.add(new ke("https://salty-waters-60310.herokuapp.com/a07",0,-300,450,0)),i.add(s),(r=new Pe.a(t,n.domElement)).rotateSpeed=4;var h=document.getElementById(a.DetailBlocker);h.style.display="none",r.addEventListener("start",(function(){h.style.display=""})),r.addEventListener("end",(function(){h.style.display="none"})),this.props=Me(Me({},this.props),{camera:t,scene:i,renderer:n,controls:r}),this.addEvent()},draw:function(){var e=this.props,t=e.controls,i=e.renderer,n=e.scene,r=e.camera;t.update(),i.render(n,r)},onResize:function(){var e=this.props,t=(e.controls,e.renderer),i=(e.scene,e.camera);i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)},onKeyUp:function(e){e.keyCode===r&&this.hide()},addEvent:function(){var e=this;document.addEventListener(o,(function(t){return e.show()}))},show:function(){var e=document.getElementById(a.DetailContainer),t=document.getElementById(a.GalleryContainer);this.props.isEnable=!0,e.style.visibility="visible",t.style.visibility="hidden"},hide:function(){var e=document.getElementById(a.DetailContainer),t=document.getElementById(a.GalleryContainer);this.props.isEnable=!1,e.style.visibility="hidden",t.style.visibility="visible"}};function Le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(i),!0).forEach((function(t){De(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function De(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ze=Re(Re({},u),{},{props:{instance:null},init:function(){return this.props.instance=Ce,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onKeyUp:function(e){this.props.instance.onKeyUp(e)}});i(26);function Ae(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._scene=t,this._renderer=new p.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setClearColor(new p.Color(0),0),this._renderer.setSize(c(),l()),this._renderer.setPixelRatio(1),this.clock=new p.Clock}var t,i,n;return t=e,(i=[{key:"setup",value:function(){var e=new g.a(this._scene.scene1,this._scene.camera);e.clear=!0;var t=new g.a(this._scene.scene2,this._scene.camera);t.clear=!1,new v.b(this._scene.scene1,this._scene.camera),new v.b(this._scene.scene2,this._scene.camera),new y.a;var i=new b.a(k);i.uniforms.color.value=new p.Color(7556260),i.uniforms.color2.value=new p.Color(322168),i.uniforms.alpha=.8,i.enabled=!0,new b.a(O.a).enabled=!0,O.a.uniforms.resolution.value=new p.Vector2(1/window.innerWidth,1/window.innerHeight);var n=new w.a(2,15,3,64);n.enabled=!0;var r=new b.a(T.a);r.renderToScreen=!0,this.composer=new P.a(this._renderer),this.composer.renderTarget1.stencilBuffer=!0,this.composer.renderTarget2.stencilBuffer=!0,this.composer.addPass(e),this.composer.addPass(t),this.composer.addPass(i),this.composer.addPass(n),this.composer.addPass(r)}},{key:"update",value:function(){this._scene.update()}},{key:"onResize",value:function(){var e=this._wrapper.clientWidth,t=this._wrapper.clientHeight;this._renderer.domElement.setAttribute("width",String(e)),this._renderer.domElement.setAttribute("height",String(t)),this._renderer.setPixelRatio(window.devicePixelRatio||1),this._renderer.setSize(e,t)}}])&&Ae(t.prototype,i),n&&Ae(t,n),e}();function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function He(e,t,i){return t&&Ge(e.prototype,t),i&&Ge(e,i),e}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Ke(e);if(t){var r=Ke(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Fe(this,i)}}function Fe(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){Ve(i,e);var t=Ne(i);function i(){return We(this,i),t.call(this)}return He(i,[{key:"setup",value:function(){var e=new p.AmbientLight(16777215,.4),t=new p.SpotLight(16777215);t.position.set(80,60,50),t.intensity=1,this.add(t),this.scene1=new qe,this.add(this.scene1),this.scene2=new Je,this.scene2.add(e),this.scene2.add(t),this.add(this.scene2)}},{key:"update",value:function(){this.scene1.update(),this.scene2.update()}}]),i}(p.Scene),qe=function(e){Ve(i,e);var t=Ne(i);function i(){var e;return We(this,i),(e=t.call(this))._line=new q,e._line.position.set(150,70,150),e.add(e._line),e._line2=new q,e._line.position.set(150,70,150),e.add(e._line2),e}return He(i,[{key:"update",value:function(){this._line.update(),this._line2.update()}}]),i}(p.Scene),Je=function(e){Ve(i,e);var t=Ne(i);function i(){var e;We(this,i),(e=t.call(this)).frame=0,e.meshList=[],e.meshGroup=new p.Group;var n=new p.MeshBasicMaterial({color:16777215,wireframe:!0,opacity:.9,transparent:!0});e.PlateNum=320,e.positions=[],e.posTarget=[];for(var r=0;r<e.PlateNum;r++)e.floorsize=27,e.geometry=new p.PlaneBufferGeometry(e.floorsize,e.floorsize),e.mesh=new p.Mesh(e.geometry,n),e.mesh.position.set(0,0,0),e.mesh.rotation.x=90*Math.PI/180,e.meshGroup.add(e.mesh),e.meshList.push(e.mesh),e.positions.push(e.mesh.position.x,e.mesh.position.y,e.mesh.position.z),e.posTarget.push(0,0,0);return e.animeScene=0,e.platAnime=[0,1,2,3,4,5,6,7,8,9],e.clock=new p.Clock,e.tSpeed=2,e.easeElapsedTime=0,e.eansingBool=!0,e.tl=[],e.add(e.meshGroup),e}return He(i,[{key:"update",value:function(){if(this.frame+=1,1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var e=0;e<this.meshList.length;e++){this.meshList[e].position.x=this.positions[3*e+0],this.meshList[e].position.y=this.positions[3*e+1],this.meshList[e].position.z=this.positions[3*e+2];for(var t=0;t<3;t++){var i=this.positions[3*e+t],n=this.posTarget[3*e+t];this.positions[3*e+t]=i*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var o=0;o<4;o++)r>=80*o&&r<80*(o+1)&&(this.posTarget[3*r+0]=25*o,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(110==this.frame){for(var s=0;s<this.meshList.length;s++)for(var a=0;a<4;a++)if(s>=80*a&&s<80*(a+1))for(var h=0;h<4;h++)s>=80*a+20*h&&s<80*a+20*(h+1)&&(this.posTarget[3*s+0]=25*a,this.posTarget[3*s+1]=0,this.posTarget[3*s+2]=25*h);this.easeElapsedTime=0}if(170==this.frame){for(var c=0;c<this.meshList.length;c++)for(var l=0;l<4;l++)if(c>=80*l&&c<80*(l+1))for(var u=0;u<4;u++)if(c>=80*l+20*u&&c<80*l+20*(u+1))for(var p=0;p<20;p++)c>=80*l+20*u+1*p&&c<80*l+20*u+1*(p+1)&&(this.posTarget[3*c+0]=25*l,this.posTarget[3*c+1]=7*p,this.posTarget[3*c+2]=25*u);this.easeElapsedTime=0,this.tSpeed=4}if(280==this.frame){for(var f=0;f<this.meshList.length;f++)for(var d=0;d<4;d++)if(f>=80*d&&f<80*(d+1))for(var m=0;m<4;m++)if(f>=80*d+20*m&&f<80*d+20*(m+1))for(var g=0;g<10;g++)f>=80*d+20*m+2*g&&f<80*d+20*m+2*(g+1)&&(this.posTarget[3*f+0]=45*m,this.posTarget[3*f+1]=10*g,this.posTarget[3*f+2]=45*d);this.easeElapsedTime=0,this.tSpeed=4}if(430==this.frame){for(var v=0;v<this.meshList.length;v++)for(var y=0;y<4;y++)if(v>=80*y&&v<80*(y+1))for(var b=0;b<4;b++)if(v>=80*y+20*b&&v<80*y+20*(b+1))for(var w=0;w<10;w++)v>=80*y+20*b+2*w&&v<80*y+20*b+2*(w+1)&&(this.posTarget[3*v+0]=45*y,this.posTarget[3*v+1]=0,this.posTarget[3*v+2]=45*b);this.easeElapsedTime=0,this.tSpeed=7}if(490==this.frame){for(var P=0;P<this.meshList.length;P++)for(var O=0;O<4;O++)if(P>=80*O&&P<80*(O+1))for(var T=0;T<4;T++)if(P>=80*O+20*T&&P<80*O+20*(T+1))for(var j=0;j<10;j++)P>=80*O+20*T+2*j&&P<80*O+20*T+2*(j+1)&&(this.posTarget[3*P+0]=30*O,this.posTarget[3*P+1]=0,this.posTarget[3*P+2]=30*T);this.easeElapsedTime=0,this.tSpeed=4}if(550==this.frame){for(var k=0;k<this.meshList.length;k++)for(var S=0;S<8;S++)if(k>=40*S&&k<40*(S+1))for(var x=0;x<8;x++)if(k>=40*S+5*x&&k<40*S+5*(x+1))for(var E=0;E<5;E++)k>=40*S+5*x+1*E&&k<40*S+5*x+1*(E+1)&&(this.posTarget[3*k+0]=15*S,this.posTarget[3*k+1]=0,this.posTarget[3*k+2]=15*x);this.easeElapsedTime=0,this.tSpeed=4}if(600==this.frame){for(var M=0;M<this.meshList.length;M++)for(var _=0;_<8;_++)if(M>=40*_&&M<40*(_+1))for(var C=0;C<8;C++)if(M>=40*_+5*C&&M<40*_+5*(C+1))for(var L=0;L<5;L++)M>=40*_+5*C+1*L&&M<40*_+5*C+1*(L+1)&&(this.posTarget[3*M+0]=20*_,this.posTarget[3*M+1]=30*Math.sin((30*(_+C)+2*(this.frame+60))*Math.PI/180),this.posTarget[3*M+2]=20*C);this.easeElapsedTime=0}if(660==this.frame&&(this.eansingBool=!1),this.frame>=660&&this.frame<780){for(var R=0;R<this.meshList.length;R++)this.meshList[R].position.x=this.positions[3*R+0],this.meshList[R].position.y=this.positions[3*R+1],this.meshList[R].position.z=this.positions[3*R+2];for(var D=0;D<this.meshList.length;D++)for(var z=0;z<8;z++)if(D>=40*z&&D<40*(z+1))for(var A=0;A<8;A++)if(D>=40*z+5*A&&D<40*z+5*(A+1))for(var I=0;I<5;I++)D>=40*z+5*A+1*I&&D<40*z+5*A+1*(I+1)&&(this.positions[3*D+0]=20*z,this.positions[3*D+1]=30*Math.sin((30*(z+A)+2*this.frame)*Math.PI/180),this.positions[3*D+2]=20*A)}if(780==this.frame&&(this.eansingBool=!0),780==this.frame){for(var B=0;B<this.meshList.length;B++)for(var W=0;W<8;W++)if(B>=40*W&&B<40*(W+1))for(var G=0;G<8;G++)if(B>=40*W+5*G&&B<40*W+5*(G+1))for(var H=0;H<5;H++)B>=40*W+5*G+1*H&&B<40*W+5*G+1*(H+1)&&(this.posTarget[3*B+0]=80*Math.sin(2*B*Math.PI/180)+50,this.posTarget[3*B+1]=25,this.posTarget[3*B+2]=80*Math.cos(2*B*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=30}if(900==this.frame){for(var V=0;V<this.meshList.length;V++)for(var U=0;U<4;U++)if(V>=80*U&&V<80*(U+1))for(var N=0;N<4;N++)if(V>=80*U+20*N&&V<80*U+20*(N+1))for(var F=0;F<10;F++)V>=80*U+20*N+2*F&&V<80*U+20*N+2*(F+1)&&(this.posTarget[3*V+0]=4*N+50,this.posTarget[3*V+1]=1.5*F+25,this.posTarget[3*V+2]=4*U+50);this.easeElapsedTime=0,this.tSpeed=8}if(1e3==this.frame){for(var K=0;K<this.meshList.length;K++)for(var X=0;X<4;X++)if(K>=80*X&&K<80*(X+1))for(var q=0;q<4;q++)if(K>=80*X+20*q&&K<80*X+20*(q+1))for(var J=0;J<10;J++)K>=80*X+20*q+2*J&&K<80*X+20*q+2*(J+1)&&(this.posTarget[3*K+0]=70*Math.sin(4*K*Math.PI/180)+50,this.posTarget[3*K+1]=70*Math.cos(40*(X+q+J)*Math.PI/180)+25,this.posTarget[3*K+2]=-70*Math.sin(8*K*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=12}if(1150==this.frame){for(var Z=0;Z<this.meshList.length;Z++)for(var Y=0;Y<4;Y++)if(Z>=80*Y&&Z<80*(Y+1))for(var Q=0;Q<4;Q++)if(Z>=80*Y+20*Q&&Z<80*Y+20*(Q+1))for(var $=0;$<10;$++)Z>=80*Y+20*Q+2*$&&Z<80*Y+20*Q+2*($+1)&&(this.posTarget[3*Z+0]=25*Y,this.posTarget[3*Z+1]=0,this.posTarget[3*Z+2]=25*Q);this.easeElapsedTime=0,this.tSpeed=4}if(1270==this.frame){for(var ee=0;ee<this.meshList.length;ee++)for(var te=0;te<4;te++)if(ee>=80*te&&ee<80*(te+1))for(var ie=0;ie<4;ie++)if(ee>=80*te+20*ie&&ee<80*te+20*(ie+1))for(var ne=0;ne<20;ne++)ee>=80*te+20*ie+1*ne&&ee<80*te+20*ie+1*(ne+1)&&(this.posTarget[3*ee+0]=20*te,this.posTarget[3*ee+1]=5*ne,this.posTarget[3*ee+2]=20*ie);this.easeElapsedTime=0,this.tSpeed=4}if(1470==this.frame){for(var re=0;re<this.meshList.length;re++)for(var oe=0;oe<4;oe++)if(re>=80*oe&&re<80*(oe+1))for(var se=0;se<4;se++)if(re>=80*oe+20*se&&re<80*oe+20*(se+1))for(var ae=0;ae<10;ae++)re>=80*oe+20*se+2*ae&&re<80*oe+20*se+2*(ae+1)&&(this.posTarget[3*re+0]=25*(oe+ae),this.posTarget[3*re+1]=15*ae,this.posTarget[3*re+2]=25*(se+ae));this.easeElapsedTime=0,this.tSpeed=10}}}]),i}(p.Scene);function Ze(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(e){this.rootScene=e,this.setup(),this.createScene(),this.createCamera(),h()||this.addOrbitControls(),this.addAmbientLight(),this.addDirectionalLight(),this.addBorad()}},{key:"setup",value:function(){this.mesheList=[],this.backgroundColor="#000000",this.width=window.innerWidth,this.height=window.innerHeight,this.mouse3D=new p.Vector2,this.meshList=[],this.raycaster=new p.Raycaster,this.rayReceiveObjects=[],this.posterData=pe,this.boardLength=this.posterData.imgPath.length,this.boardPosRadius=200,this.boardAngle=180/this.boardLength,this.categoryAngle=180+this.boardAngle/2}},{key:"draw",value:function(e){if(!h()){this.mouse3D=new p.Vector2(e.x,e.y),this.raycaster.setFromCamera(this.mouse3D,this.camera);var t=this.raycaster.intersectObjects(this.rayReceiveObjects);this.rayReceiveObjects.map((function(e){t.length>0&&e===t[0].object?e.material.color.setHex(16777215):e.material.color.setHex(2236962)})),this.controls.update()}ue.a.update(),this.renderer.render(this.scene,this.camera)}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;this.mouse3D.x=t/this.width*2-1,this.mouse3D.y=-i/this.height*2+1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"onClick",value:function(e){var t=this.raycaster.intersectObjects(this.rayReceiveObjects);if(t.length>0){var i=t[0].object.name;console.dir(i),document.dispatchEvent(new CustomEvent(o,{detail:{message:"Please show me a detail!"}}))}}},{key:"addBorad",value:function(){for(var e=this,t=function(t){var i={imgPath:e.posterData.imgPath[t],posterTitle:e.posterData.posterTitle[t]};e.board=new de(i);var n=e.board.createPlaneObject(),r=void 0;if(r=t%2==0?40:-30,n.position.set(e.boardPosRadius*Math.cos(p.Math.degToRad(t*e.boardAngle+e.categoryAngle)),r,e.boardPosRadius*Math.sin(p.Math.degToRad(t*e.boardAngle+e.categoryAngle))),n.lookAt(new p.Vector3(0,0,0)),h()){e.boardPosRadius=150;var o=document.createElement("a-entity"),s=[e.boardPosRadius*Math.cos(p.Math.degToRad(t*e.boardAngle+e.categoryAngle)),r,e.boardPosRadius*Math.sin(p.Math.degToRad(t*e.boardAngle+e.categoryAngle))],a=[0,180+180*Math.atan2(s[0],s[2])/Math.PI,0],c="img/poster".concat((t<9?"0":"")+(t+1),".png");console.log(c),o.setAttribute("position",s.join(" ")),o.setAttribute("rotation",a.join(" ")),o.setAttribute("scale","80 45 1"),o.setAttribute("geometry","primitive: plane"),o.setAttribute("material","shader: flat; color: #222; src: ".concat(c)),o.setAttribute("class","collidable"),e.rootScene.appendChild(o)}else e.scene.add(n);e.meshList.push(n),e.meshList[t].children[1].name="poster"+t,e.rayReceiveObjects.push(e.meshList[t].children[1]);var l={x:n.position.x,y:n.position.y,z:n.position.z,alpha:n.children[0].material.opacity},u={x:l.x,y:l.y+100,z:l.z,alpha:1},f=new ue.a.Tween(l).to(u,500).easing(ue.a.Easing.Cubic.InOut).onUpdate((function(){n.position.x=l.x,n.position.y=l.y,n.position.z=l.z,n.children[2].material.opacity=l.alpha})).delay(1e3+50*t).start(),d={alphaA:0,alphaB:1},m=new ue.a.Tween(d).to({alphaA:1,alphaB:0},500).easing(ue.a.Easing.Cubic.InOut).onUpdate((function(){n.children[0].material.opacity=d.alphaA,n.children[1].material.opacity=d.alphaA,n.children[2].material.opacity=d.alphaB})).delay(1e3+10*t);f.chain(m)},i=0;i<10;i++)t(i)}},{key:"addNullBox",value:function(){var e=new p.BoxGeometry(10,10,10),t=new p.MeshNormalMaterial;this.nullMesh=this.getMesh(e,t),this.scene.add(this.nullMesh);var i=0,n=80,r=-50;this.nullMesh.position.set(i,n,r)}},{key:"createScene",value:function(){this.scene=new p.Scene,this.renderer=new p.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=p.PCFSoftShadowMap,this.renderer.autoClear=!1,h()||document.getElementById(a.Gallery).appendChild(this.renderer.domElement)}},{key:"createCamera",value:function(){this.camera=new p.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1),this.camera.position.set(0,80,150),this.camera.lookAt(new p.Vector3(0,50,-80)),this.scene.add(this.camera)}},{key:"addOrbitControls",value:function(){this.controls=new m.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.enableZoom=!0,this.zoomSpeed=1,this.controls.enablePan=!0}},{key:"addAmbientLight",value:function(){var e=new p.AmbientLight(4210752,1);this.scene.add(e)}},{key:"addDirectionalLight",value:function(){var e=new p.DirectionalLight(16777215,1);e.position.set(0,300,30),this.scene.add(e)}},{key:"addSpotLight",value:function(){var e=new p.SpotLight("#7bccd7",1,1e3);e.position.set(0,27,0),e.castShadow=!0,this.scene.add(e)}},{key:"addRectLight",value:function(){var e=new p.RectAreaLight("#341212",1,2e3,2e3);e.position.set(5,50,50),e.lookAt(0,0,0),this.scene.add(e)}},{key:"addPointLight",value:function(e,t){var i=new p.PointLight(e,1,1e3,1);i.position.set(t.x,t.y,t.z),this.scene.add(i)}},{key:"addHelper",value:function(){var e=new p.GridHelper(500,50);this.scene.add(e);var t=new p.AxesHelper(500);this.scene.add(t)}},{key:"getMesh",value:function(e,t){var i=new p.Mesh(e,t);return i.castShadow=!0,i.receiveShadow=!0,i}},{key:"getScene",value:function(){return this.scene}}])&&Ze(t.prototype,i),n&&Ze(t,n),e}();function Qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function $e(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(i),!0).forEach((function(t){et(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function et(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var tt=window.AFRAME,it=$e($e({},u),{},{props:{},setup:function(){this.props.xr_player=document.getElementById(a.XRPlayer),tt.registerComponent("module-background",{props:{},modules:{background:{}},init:function(){this.props.scene=this.el.object3D,this.modules.background.scene=new Xe,this.modules.background.scene.setup(),this.modules.background.app=new Ie(this.modules.background.scene),this.props.scene.add(this.modules.background.scene)},update:function(){console.log("Scene update")},tick:function(){this.modules.background.app.update()}}),tt.registerComponent("module-gallery",{props:{},modules:{gallery:{}},init:function(){console.log("Module gallery"),this.props.scene=this.el.object3D,this.props.camera=document.getElementById(a.XRCamera).object3D,this.modules.gallery.app=new Ye,this.modules.gallery.app.init(this.el,this.props.camera)},tick:function(){if(null!=this.props.camera){var e=new p.Vector3(0,0,-1).applyMatrix4(this.props.camera.matrixWorld).sub(this.el.object3D.position).normalize();this.modules.gallery.app.draw(e)}}}),tt.registerComponent("collider-check",{dependencies:["raycaster"],props:{},init:function(){console.log("Module collider-check"),this.el.addEventListener("raycaster-intersection",(function(e){var t=e.detail.intersections;t.length>0&&t[0].object.material.color.set(16777215)})),this.el.addEventListener("raycaster-intersection-cleared",(function(e){for(var t=e.detail.clearedEls,i=0;i<t.length;i++)t[i].object3DMap.mesh.material.color.set(2236962)}))}}),null!=this.props.xr_player&&this.props.xr_player.setAttribute("collider-check")}});function nt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function rt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(i),!0).forEach((function(t){ot(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ot(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var st=rt(rt({},u),{},{props:{instance:null},init:function(){return this.props.instance=it,this},setup:function(){this.props.instance.setup()},update:function(){},draw:function(){},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(e){this.props.instance.onMouseMove(e)},onKeyUp:function(e){this.props.instance.onKeyUp(e)}}),at={props:{isPause:!1},instances:{},init:function(){return h()?this.instances.xr=st.init():(this.instances.background=le.init(),this.instances.gallery=we.init(),this.instances.detail=ze.init()),this.addEvent(),this.setup(),this},setup:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instances.forIn((function(e,t){return t.setup()})),this.update()},update:function(){var e=this;this.instances.forIn((function(e,t){return t.update()})),window.requestAnimationFrame((function(){e.props.isPause||e.update()})),this.draw()},draw:function(){this.instances.forIn((function(e,t){return t.draw()}))},destroy:function(){},pause:function(){this.props.isPause=!0},resume:function(){this.props.isPause=!1},onResize:function(){this.instances.forIn((function(e,t){return t.onResize()}))},onMouseMove:function(e){this.instances.forIn((function(t,i){return i.onMouseMove(e)}))},onKeyUp:function(e){this.instances.forIn((function(t,i){return i.onKeyUp(e)}))},onClick:function(e){this.instances.forIn((function(t,i){return i.onClick(e)}))},addEvent:function(e){}},ht=ht||{};ht.PosterSession=ht.PosterSession||{},ht.PosterSession.App={delegator:null,init:function(){this.addExtensions(),this.delegator=at.init(),this.addEvent()},onResize:function(){this.delegator.onResize()},onMouseMove:function(e){this.delegator.onMouseMove(e)},onKeyUp:function(e){this.delegator.onKeyUp(e)},onClick:function(e){this.delegator.onClick(e)},addEvent:function(){var e=this;window.addEventListener("resize",(function(){return e.onResize()})),window.addEventListener("mousemove",(function(t){return e.onMouseMove(t)})),window.addEventListener("keyup",(function(t){return e.onKeyUp(t)})),document.addEventListener("click",(function(t){return e.onClick(t)}))},addExtensions:function(){n.init()}},window.addEventListener("DOMContentLoaded",(function(){!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.enable=e}(document.getElementsByTagName("a-scene").length>0),console.log("VRMode: ".concat(h())),ht.PosterSession.App.init()}))}});