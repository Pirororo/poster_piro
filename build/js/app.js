!function(e){function t(t){for(var n,s,a=t[0],c=t[1],h=t[2],u=0,f=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);f.length;)f.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var c=i[a];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},r={0:0},o=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var l=c;o.push([20,1]),i()}({14:function(e,t,i){var n=i(15),r=i(16);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};n(r,o);e.exports=r.locals||{}},16:function(e,t,i){(t=i(17)(!1)).push([e.i,"html,body{margin:0;padding:0;width:100%;height:100%}body{background-color:#000;overflow:hidden}.common_container{position:fixed;top:0;left:0;z-index:1}#content_container{position:relative}#gallery_container{position:fixed;top:0;left:0;z-index:10;visibility:visible}#dialog{position:fixed;top:0;left:0;color:#fff}#dialog button{padding:1em;font-size:1em}#buttons{position:fixed;top:0;right:0;z-index:1;background:#fff}#detail_container{position:fixed;top:0;left:0;z-index:20;visibility:hidden}#blocker{position:absolute;top:0;left:0;bottom:0;right:0}#background_container{position:fixed;top:0;left:0;z-index:5}#WebGL-output{width:100%;height:100%}#xr_container{z-index:200}",""]),e.exports=t},20:function(e,t,i){"use strict";i.r(t);i(14);var n={init:function(){Object.defineProperty(Object.prototype,"forIn",{value:function(e,t){t=t||this,Object.keys(this).forEach((function(i,n){var r=this[i];e.call(t,i,r,n)}),this)}}),Object.defineProperty(Object.prototype,"isEmpty",{value:function(e,t){return!Object.keys(this).length}})}},r=32,o="ShowDetail",s={enable:!1},a={GalleryContainer:"gallery_container",GalleryStage:"gallery_stage",DetailContainer:"detail_container",DetailStage:"detail_stage",DetailBlocker:"detail_blocker",XRCamera:"xr_camera",XRPlayer:"xr_player"},c=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.enable},h=function(){return window.innerWidth},l=function(){return window.innerHeight},u={init:function(){return this},setup:function(){},update:function(){},draw:function(){},destroy:function(){},onResize:function(){},onMouseMove:function(e){},onKeyUp:function(e){},onClick:function(e){}},f=i(0),p=i(9),d=i(10),m=i(7),g=i(4),y=i(12),v=i(13),b=i(2),w=i(8),T={uniforms:{tDiffuse:{value:null},color:{value:new w.Color(16711680)},color2:{value:new w.Color(16711680)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform vec3 color2;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec3 gradate = color * vUv.y + color2 * (1.0 - vUv.y);","gl_FragColor = vec4(v * gradate, texel.w );","}"].join("\n")};function P(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initStats=this._initStats.bind(this),this._stats=this._initStats(),this._scene=t,this._renderer=new f.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setClearColor(new f.Color(0),0),this._renderer.setSize(window.innerWidth,window.innerHeight),this._renderer.setPixelRatio(1),this._wrapper=document.getElementById("WebGL-output"),this._wrapper.appendChild(this._renderer.domElement),this.clock=new f.Clock,this.onResize();var i=new m.a(this._scene.scene0.scene1,this._scene.camera);i.clear=!0;var n=new m.a(this._scene.scene0.scene2,this._scene.camera);n.clear=!1;var r=new g.a(T);r.uniforms.color.value=new f.Color(7556260),r.uniforms.color2.value=new f.Color(322168),r.uniforms.alpha=.8,r.enabled=!0;var o=new y.a(2,15,3,64);o.enabled=!0;var s=new g.a(b.a);s.renderToScreen=!0,this.composer=new v.a(this._renderer),this.composer.renderTarget1.stencilBuffer=!0,this.composer.renderTarget2.stencilBuffer=!0,this.composer.addPass(i),this.composer.addPass(n),this.composer.addPass(r),this.composer.addPass(o),this.composer.addPass(s);var a=new function(){this.select="Colorify",this.color=5154702,this.color2=2915734,this.strength=.1,this.kernelSize=5,this.sigma=1,this.resolution=64,this.changeColor=function(){r.uniforms.color.value=new f.Color(a.color)},this.changeColor2=function(){r.uniforms.color2.value=new f.Color(a.color2)}},c=new p.a;c.add(a,"select",["colorify","BloomPass"]).onChange(a.switchShader);var h=c.addFolder("Colorify");h.addColor(a,"color").onChange(a.changeColor),h.addColor(a,"color2").onChange(a.changeColor2);var l=c.addFolder("BloomPass");l.add(a,"strength",1,10).onChange(a.updateEffectBloom),l.add(a,"kernelSize",1,100).onChange(a.updateEffectBloom),l.add(a,"sigma",1,10).onChange(a.updateEffectBloom),l.add(a,"resolution",0,1024).onChange(a.updateEffectBloom),this.update()}var t,i,n;return t=e,(i=[{key:"update",value:function(){this._stats.update(),this._renderer.autoClear=!1,this._scene.update(),this.composer.render()}},{key:"onKeyUp",value:function(e){this._scene.onKeyUp(e)}},{key:"addEvent",value:function(){this._scene.addEvent()}},{key:"draw",value:function(){}},{key:"onResize",value:function(){var e=this._wrapper.clientWidth,t=this._wrapper.clientHeight;this._renderer.domElement.setAttribute("width",String(e)),this._renderer.domElement.setAttribute("height",String(t)),this._renderer.setPixelRatio(window.devicePixelRatio||1),this._renderer.setSize(e,t),this._scene.camera.aspect=e/t,this._scene.camera.updateProjectionMatrix()}},{key:"_initStats",value:function(){return this._stats=new d.a,this._stats.setMode(0),this._stats.domElement.style.position="absolute",this._stats.domElement.style.left="0px",this._stats.domElement.style.top="0px",document.getElementById("Stats-output").appendChild(this._stats.domElement),this._stats}}])&&P(t.prototype,i),n&&P(t,n),e}();function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,i){return t&&j(e.prototype,t),i&&j(e,i),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=L(e);if(t){var r=L(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return M(this,i)}}function M(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e){S(i,e);var t=x(i);function i(){var e;return _(this,i),(e=t.call(this,45,window.innerWidth/window.innerHeight,1,1e3)).frame=1e3,e.camPos=new f.Vector3(100,100,120),e.camTarget=new f.Vector3(-270,300,320),e.lookPos=new f.Vector3(45,50,45),e.lookTarget=new f.Vector3(45,50,45),e.getCamPos=e.getCamPos.bind(B(e)),e}return E(i,[{key:"update",value:function(){this.frame+=1,this.camPos.x+=.01*(this.camTarget.x-this.camPos.x),this.camPos.y+=.01*(this.camTarget.y-this.camPos.y),this.camPos.z+=.01*(this.camTarget.z-this.camPos.z),this.position.set(this.camPos.x,this.camPos.y,this.camPos.z),this.frame>=0&&this.frame<1320?(this.lookAt(new f.Vector3(45,50,45)),350==this.frame&&(this.camTarget=new f.Vector3(420,80,-100)),800==this.frame&&(this.camTarget=new f.Vector3(-140,180,160)),1100==this.frame&&(this.camTarget=new f.Vector3(-300,30,-220))):this.frame>=1320&&(this.lookPos.x+=.02*(this.lookTarget.x-this.lookPos.x),this.lookPos.y+=.02*(this.lookTarget.y-this.lookPos.y),this.lookPos.z+=.02*(this.lookTarget.z-this.lookPos.z),this.lookAt(this.lookPos),1370==this.frame&&(this.lookTarget=new f.Vector3(140,70,140)),1370==this.frame&&(this.camTarget=new f.Vector3(-200,75,200)),1470==this.frame&&(this.camTarget=new f.Vector3(100,70,100)))}},{key:"getCamPos",value:function(){}}]),i}(f.PerspectiveCamera),R=(f.PerspectiveCamera,f.PerspectiveCamera,i(5));function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=K(e);if(t){var r=K(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return W(this,i)}}function W(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(o,e);var t,i,n,r=V(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).frame=0,e.prepareMesh=e.prepareMesh.bind(G(e)),e.checkIntersection=e.checkIntersection.bind(G(e)),e.meshes={},e.meshes[0]||(e.meshes[0]=e.prepareMesh()),e}return t=o,(i=[{key:"prepareMesh",value:function(){for(var e=new Float32Array(300),t=0;t<e.length;t+=3)e[t]=e[t+1]=e[t+2]=0;var i=new R.MeshLine;i.setGeometry(e,(function(e){return e}));var n=new R.MeshLineMaterial({color:16776960,lineWidth:.6,depthTest:!1});return this.mesh=new f.Mesh(i.geometry,n),this.mesh.geo=e,this.mesh.g=i,this.add(this.mesh),this.mesh}},{key:"checkIntersection",value:function(){this.mesh=this.meshes[0];for(var e=this.mesh.geo,t=this.mesh.g,i=0;i<e.length;i+=3)e[i]=1*e[i+3],e[i+1]=1*e[i+4],e[i+2]=1*e[i+5];var n=Math.random(),r=100*(2*Math.random()-1);n>.66?(e[e.length-6]>90&&r>0&&(r*=-1),e[e.length-6]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6]+r,e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]):n>.33?(e[e.length-5]>90&&r>0&&(r*=-1),e[e.length-5]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5]+r,e[e.length-1]=e[e.length-4]):(e[e.length-4]>90&&r>0&&(r*=-1),e[e.length-4]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]+r),t.setGeometry(e)}},{key:"update",value:function(){if(this.frame+=1,this.frame%4==0)for(var e in this.meshes)this.checkIntersection(e)}}])&&z(t.prototype,i),n&&z(t,n),o}(f.Object3D),U=32,N=65,F=66,X=67,q=8;function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e,t,i){return t&&Y(e.prototype,t),i&&Y(e,i),e}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=ne(e);if(t){var r=ne(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ie(this,i)}}function ie(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){$(i,e);var t=te(i);function i(){var e;return Z(this,i),(e=t.call(this)).camera=new A,e.scene0=new oe,e.add(e.scene0),e.camTargetBool_openingIsEnd=!1,e.camTargetBool_A=!1,e.camTargetBool_B=!1,e.camTargetBool_C=!1,e.camTargetBool_BACKSPACE=!1,e.selectVRorNot=!1,e}return Q(i,[{key:"update",value:function(){1==this.scene0.scene2.openingIsEnd&&(console.log("Opening is end and select VR or not"),this.scene0.scene2.openingIsEnd=!1),this.camera.update(),this.scene0.update()}},{key:"onKeyUp",value:function(e){e.keyCode==U&&(console.log("show 7 panels!"),0==this.camTargetBool_openingIsEnd&&(this.camTargetBool_openingIsEnd=!0,this.camera.camTarget=new f.Vector3(-200,70,400))),e.keyCode==N&&(console.log("Please go to room_A!"),0==this.camTargetBool_A&&(this.camTargetBool_A=!0,this.camera.camTarget=new f.Vector3(28,40,28),this.camera.lookTarget=new f.Vector3(30,40,30),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_B=!0,this.camTargetBool_C=!0)),e.keyCode==F&&(console.log("Please go to room_B!"),0==this.camTargetBool_B&&(this.camTargetBool_B=!0,this.camera.camTarget=new f.Vector3(112,85,112),this.camera.lookTarget=new f.Vector3(120,85,120),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_A=!0,this.camTargetBool_C=!0)),e.keyCode==X&&(console.log("Please go to room_C!"),0==this.camTargetBool_C&&(this.camTargetBool_C=!0,this.camera.camTarget=new f.Vector3(196,130,196),this.camera.lookTarget=new f.Vector3(210,130,210),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_B=!0,this.camTargetBool_A=!0)),e.keyCode==q&&(console.log("Please back to 7 panels!"),0==this.camTargetBool_BACKSPACE&&(this.camTargetBool_BACKSPACE=!0,this.camera.camTarget=new f.Vector3(-300,70,300),this.camera.lookTarget=new f.Vector3(140,70,140),this.camTargetBool_A=!1,this.camTargetBool_B=!1,this.camTargetBool_C=!1))}}]),i}(f.Scene),oe=function(e){$(i,e);var t=te(i);function i(){var e;Z(this,i),e=t.call(this);var n=new f.AmbientLight(16777215,.4),r=new f.SpotLight(16777215);return r.position.set(80,60,50),r.intensity=1,e.scene1=new se,e.add(e.scene1),e.scene2=new ae,e.scene2.add(n),e.scene2.add(r),e.add(e.scene2),e}return Q(i,[{key:"update",value:function(){this.scene1.update(),this.scene2.update()}}]),i}(f.Scene),se=function(e){$(i,e);var t=te(i);function i(){var e;return Z(this,i),(e=t.call(this))._line=new H,e._line.position.set(150,70,150),e.add(e._line),e._line2=new H,e._line.position.set(150,70,150),e.add(e._line2),e}return Q(i,[{key:"update",value:function(){this._line.update(),this._line2.update()}}]),i}(f.Scene),ae=function(e){$(i,e);var t=te(i);function i(){var e;Z(this,i),(e=t.call(this)).frame=1e3,e.meshList=[],e.meshGroup=new f.Group;var n=new f.MeshBasicMaterial({color:16777215,wireframe:!0,opacity:.9,transparent:!0});e.PlateNum=320,e.positions=[],e.posTarget=[];for(var r=0;r<e.PlateNum;r++)e.floorsize=27,e.geometry=new f.PlaneBufferGeometry(e.floorsize,e.floorsize),e.mesh=new f.Mesh(e.geometry,n),e.mesh.position.set(0,0,0),e.mesh.rotation.x=90*Math.PI/180,e.meshGroup.add(e.mesh),e.meshList.push(e.mesh),e.positions.push(e.mesh.position.x,e.mesh.position.y,e.mesh.position.z),e.posTarget.push(0,0,0);return e.add(e.meshGroup),e.clock=new f.Clock,e.tSpeed=2,e.easeElapsedTime=0,e.eansingBool=!0,e.openingIsEnd=!1,e}return Q(i,[{key:"update",value:function(){if(this.frame+=1,1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var e=0;e<this.meshList.length;e++){this.meshList[e].position.x=this.positions[3*e+0],this.meshList[e].position.y=this.positions[3*e+1],this.meshList[e].position.z=this.positions[3*e+2];for(var t=0;t<3;t++){var i=this.positions[3*e+t],n=this.posTarget[3*e+t];this.positions[3*e+t]=i*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var o=0;o<4;o++)r>=80*o&&r<80*(o+1)&&(this.posTarget[3*r+0]=25*o,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(110==this.frame){for(var s=0;s<this.meshList.length;s++)for(var a=0;a<4;a++)if(s>=80*a&&s<80*(a+1))for(var c=0;c<4;c++)s>=80*a+20*c&&s<80*a+20*(c+1)&&(this.posTarget[3*s+0]=25*a,this.posTarget[3*s+1]=0,this.posTarget[3*s+2]=25*c);this.easeElapsedTime=0}if(170==this.frame){for(var h=0;h<this.meshList.length;h++)for(var l=0;l<4;l++)if(h>=80*l&&h<80*(l+1))for(var u=0;u<4;u++)if(h>=80*l+20*u&&h<80*l+20*(u+1))for(var f=0;f<20;f++)h>=80*l+20*u+1*f&&h<80*l+20*u+1*(f+1)&&(this.posTarget[3*h+0]=25*l,this.posTarget[3*h+1]=7*f,this.posTarget[3*h+2]=25*u);this.easeElapsedTime=0,this.tSpeed=4}if(280==this.frame){for(var p=0;p<this.meshList.length;p++)for(var d=0;d<4;d++)if(p>=80*d&&p<80*(d+1))for(var m=0;m<4;m++)if(p>=80*d+20*m&&p<80*d+20*(m+1))for(var g=0;g<10;g++)p>=80*d+20*m+2*g&&p<80*d+20*m+2*(g+1)&&(this.posTarget[3*p+0]=45*m,this.posTarget[3*p+1]=10*g,this.posTarget[3*p+2]=45*d);this.easeElapsedTime=0,this.tSpeed=4}if(430==this.frame){for(var y=0;y<this.meshList.length;y++)for(var v=0;v<4;v++)if(y>=80*v&&y<80*(v+1))for(var b=0;b<4;b++)if(y>=80*v+20*b&&y<80*v+20*(b+1))for(var w=0;w<10;w++)y>=80*v+20*b+2*w&&y<80*v+20*b+2*(w+1)&&(this.posTarget[3*y+0]=45*v,this.posTarget[3*y+1]=0,this.posTarget[3*y+2]=45*b);this.easeElapsedTime=0,this.tSpeed=7}if(490==this.frame){for(var T=0;T<this.meshList.length;T++)for(var P=0;P<4;P++)if(T>=80*P&&T<80*(P+1))for(var O=0;O<4;O++)if(T>=80*P+20*O&&T<80*P+20*(O+1))for(var k=0;k<10;k++)T>=80*P+20*O+2*k&&T<80*P+20*O+2*(k+1)&&(this.posTarget[3*T+0]=30*P,this.posTarget[3*T+1]=0,this.posTarget[3*T+2]=30*O);this.easeElapsedTime=0,this.tSpeed=4}if(550==this.frame){for(var _=0;_<this.meshList.length;_++)for(var j=0;j<8;j++)if(_>=40*j&&_<40*(j+1))for(var E=0;E<8;E++)if(_>=40*j+5*E&&_<40*j+5*(E+1))for(var S=0;S<5;S++)_>=40*j+5*E+1*S&&_<40*j+5*E+1*(S+1)&&(this.posTarget[3*_+0]=15*j,this.posTarget[3*_+1]=0,this.posTarget[3*_+2]=15*E);this.easeElapsedTime=0,this.tSpeed=4}if(600==this.frame){for(var C=0;C<this.meshList.length;C++)for(var x=0;x<8;x++)if(C>=40*x&&C<40*(x+1))for(var M=0;M<8;M++)if(C>=40*x+5*M&&C<40*x+5*(M+1))for(var B=0;B<5;B++)C>=40*x+5*M+1*B&&C<40*x+5*M+1*(B+1)&&(this.posTarget[3*C+0]=20*x,this.posTarget[3*C+1]=30*Math.sin((30*(x+M)+2*(this.frame+60))*Math.PI/180),this.posTarget[3*C+2]=20*M);this.easeElapsedTime=0}if(660==this.frame&&(this.eansingBool=!1),this.frame>=660&&this.frame<780){for(var L=0;L<this.meshList.length;L++)this.meshList[L].position.x=this.positions[3*L+0],this.meshList[L].position.y=this.positions[3*L+1],this.meshList[L].position.z=this.positions[3*L+2];for(var A=0;A<this.meshList.length;A++)for(var R=0;R<8;R++)if(A>=40*R&&A<40*(R+1))for(var D=0;D<8;D++)if(A>=40*R+5*D&&A<40*R+5*(D+1))for(var z=0;z<5;z++)A>=40*R+5*D+1*z&&A<40*R+5*D+1*(z+1)&&(this.positions[3*A+0]=20*R,this.positions[3*A+1]=30*Math.sin((30*(R+D)+2*this.frame)*Math.PI/180),this.positions[3*A+2]=20*D)}if(780==this.frame&&(this.eansingBool=!0),780==this.frame){for(var I=0;I<this.meshList.length;I++)for(var V=0;V<8;V++)if(I>=40*V&&I<40*(V+1))for(var W=0;W<8;W++)if(I>=40*V+5*W&&I<40*V+5*(W+1))for(var G=0;G<5;G++)I>=40*V+5*W+1*G&&I<40*V+5*W+1*(G+1)&&(this.posTarget[3*I+0]=80*Math.sin(2*I*Math.PI/180)+50,this.posTarget[3*I+1]=25,this.posTarget[3*I+2]=80*Math.cos(2*I*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=30}if(900==this.frame){for(var K=0;K<this.meshList.length;K++)for(var H=0;H<4;H++)if(K>=80*H&&K<80*(H+1))for(var U=0;U<4;U++)if(K>=80*H+20*U&&K<80*H+20*(U+1))for(var N=0;N<10;N++)K>=80*H+20*U+2*N&&K<80*H+20*U+2*(N+1)&&(this.posTarget[3*K+0]=4*U+50,this.posTarget[3*K+1]=1.5*N+25,this.posTarget[3*K+2]=4*H+50);this.easeElapsedTime=0,this.tSpeed=8}if(1e3==this.frame){for(var F=0;F<this.meshList.length;F++)for(var X=0;X<4;X++)if(F>=80*X&&F<80*(X+1))for(var q=0;q<4;q++)if(F>=80*X+20*q&&F<80*X+20*(q+1))for(var J=0;J<10;J++)F>=80*X+20*q+2*J&&F<80*X+20*q+2*(J+1)&&(this.posTarget[3*F+0]=70*Math.sin(4*F*Math.PI/180)+50,this.posTarget[3*F+1]=70*Math.cos(40*(X+q+J)*Math.PI/180)+25,this.posTarget[3*F+2]=-70*Math.sin(8*F*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=12}if(1150==this.frame){for(var Z=0;Z<this.meshList.length;Z++)for(var Y=0;Y<4;Y++)if(Z>=80*Y&&Z<80*(Y+1))for(var Q=0;Q<4;Q++)if(Z>=80*Y+20*Q&&Z<80*Y+20*(Q+1))for(var $=0;$<10;$++)Z>=80*Y+20*Q+2*$&&Z<80*Y+20*Q+2*($+1)&&(this.posTarget[3*Z+0]=25*Y,this.posTarget[3*Z+1]=0,this.posTarget[3*Z+2]=25*Q);this.easeElapsedTime=0,this.tSpeed=4}if(1270==this.frame){for(var ee=0;ee<this.meshList.length;ee++)for(var te=0;te<4;te++)if(ee>=80*te&&ee<80*(te+1))for(var ie=0;ie<4;ie++)if(ee>=80*te+20*ie&&ee<80*te+20*(ie+1))for(var ne=0;ne<20;ne++)ee>=80*te+20*ie+1*ne&&ee<80*te+20*ie+1*(ne+1)&&(this.posTarget[3*ee+0]=20*te,this.posTarget[3*ee+1]=5*ne,this.posTarget[3*ee+2]=20*ie);this.easeElapsedTime=0,this.tSpeed=4}if(1370==this.frame){for(var re=0;re<this.meshList.length;re++)for(var oe=0;oe<4;oe++)if(re>=80*oe&&re<80*(oe+1))for(var se=0;se<4;se++)if(re>=80*oe+20*se&&re<80*oe+20*(se+1))for(var ae=0;ae<10;ae++)re>=80*oe+20*se+2*ae&&re<80*oe+20*se+2*(ae+1)&&(this.posTarget[3*re+0]=25*(oe+ae),this.posTarget[3*re+1]=15*ae,this.posTarget[3*re+2]=25*(se+ae));this.easeElapsedTime=0,this.tSpeed=10}1870==this.frame&&0==this.openingIsEnd&&(this.openingIsEnd=!0)}}]),i}(f.Scene);function ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function he(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(i),!0).forEach((function(t){le(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ce(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ue=he(he({},u),{},{props:{instance:null},init:function(){return this.props.instance=new O(new re),this},setup:function(){},update:function(){this.props.instance.update()},draw:function(){this.props.instance.draw()},destroy:function(){},onKeyUp:function(e){this.props.instance.onKeyUp(e)}}),fe=i(6),pe=i(3),de={imgPath:["./img/poster01.png","./img/poster02.png","./img/poster03.png","./img/poster04.png","./img/poster05.png","./img/poster06.png","./img/poster07.png","./img/poster08.png","./img/poster09.png","./img/poster10.png"],posterTitle:["ネットワークとクラウドを\n活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を\n両立するプログラミング言語","不具合局所化のための\nプログラムスペクトルの可視化ならびに分析","経路計画機能のテスト・設定調整の自動探索","適切な「ぼかし」で、ソフトウェアの複雑さに挑む"]};function me(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parameter=t||{},this.imgPath=this.parameter.imgPath,this.posterTitle=this.parameter.posterTitle,this.boardWidth=80,this.boardHeight=45,this.fontSize=3.5,this.init()}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.textureLoad()}},{key:"createPlaneObject",value:function(){var e=new f.PlaneGeometry(this.boardWidth,this.boardHeight),t=new f.MeshBasicMaterial({map:this.imgTexture,transparent:!0,opacity:0});this.plane=new f.Mesh(e,t),t.opacity=0;var i=this.createLabel(this.posterTitle),n=new f.WireframeGeometry(e),r=new f.LineSegments(n);return r.material.depthTest=!1,r.material.opacity=0,r.material.transparent=!0,this.poster=new f.Group,this.poster.add(i),this.poster.add(this.plane),this.poster.add(r),this.poster}},{key:"textureLoad",value:function(){var e=new f.TextureLoader;this.imgTexture=e.load(this.imgPath)}},{key:"log",value:function(){console.log("boster call")}},{key:"createLabel",value:function(e){var t=document.createElement("canvas");t.width=4*this.boardWidth,t.height=2*this.boardHeight;var i=t.getContext("2d");i.scale(4,4),i.font=this.fontSize+"px Arial, meiryo, sans-serif",i.fillStyle="rgba(255,255,255,1)";var n=e.split("\n"),r=1.2*i.measureText("あ").width;n.forEach((function(e,t){i.fillText(e,0,10+r*t)}));var o=new f.Texture(t);o.needsUpdate=!0;var s=new f.PlaneGeometry(t.width/4,t.height/4),a=new f.MeshBasicMaterial({map:o,transparent:!0,opacity:0}),c=new f.Mesh(s,a);return c.position.y=-35,c}}])&&me(t.prototype,i),n&&me(t,n),e}();function ye(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(){this.setup(),this.createScene(),this.createCamera(),this.addOrbitControls(),this.addAmbientLight(),this.addDirectionalLight(),this.addBorad()}},{key:"setup",value:function(){this.mesheList=[],this.backgroundColor="#000000",this.width=window.innerWidth,this.height=window.innerHeight,this.mouse3D=new f.Vector2,this.meshList=[],this.raycaster=new f.Raycaster,this.rayReceiveObjects=[],this.posterData=de,this.boardLength=this.posterData.imgPath.length,this.boardPosRadius=200,this.boardAngle=180/this.boardLength,this.categoryAngle=180+this.boardAngle/2}},{key:"draw",value:function(){this.raycaster.setFromCamera(this.mouse3D,this.camera);var e=this.raycaster.intersectObjects(this.rayReceiveObjects);this.rayReceiveObjects.map((function(t){e.length>0&&t===e[0].object?t.material.color.setHex(16777215):t.material.color.setHex(2236962)})),this.controls.update(),pe.a.update(),this.renderer.render(this.scene,this.camera)}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;this.mouse3D.x=t/this.width*2-1,this.mouse3D.y=-i/this.height*2+1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"onClick",value:function(e){var t=this.raycaster.intersectObjects(this.rayReceiveObjects);if(t.length>0){var i=t[0].object.name;console.dir(i),document.dispatchEvent(new CustomEvent(o,{detail:{message:"Please show me a detail!"}}))}}},{key:"addBorad",value:function(){for(var e=this,t=function(t){var i={imgPath:e.posterData.imgPath[t],posterTitle:e.posterData.posterTitle[t]};e.board=new ge(i);var n=e.board.createPlaneObject(),r=void 0;r=t%2==0?20:-50,n.position.set(e.boardPosRadius*Math.cos(f.Math.degToRad(t*e.boardAngle+e.categoryAngle)),r,e.boardPosRadius*Math.sin(f.Math.degToRad(t*e.boardAngle+e.categoryAngle))),n.lookAt(new f.Vector3(0,0,0)),e.scene.add(n),e.meshList.push(n),e.meshList[t].children[1].name="poster"+t,e.rayReceiveObjects.push(e.meshList[t].children[1]);var o={x:n.position.x,y:n.position.y,z:n.position.z,alpha:n.children[0].material.opacity},s={x:o.x,y:o.y+100,z:o.z,alpha:1},a=new pe.a.Tween(o).to(s,500).easing(pe.a.Easing.Cubic.InOut).onUpdate((function(){n.position.x=o.x,n.position.y=o.y,n.position.z=o.z,n.children[2].material.opacity=o.alpha})).delay(1e3+50*t).start(),c={alphaA:0,alphaB:1},h=new pe.a.Tween(c).to({alphaA:1,alphaB:0},500).easing(pe.a.Easing.Cubic.InOut).onUpdate((function(){n.children[0].material.opacity=c.alphaA,n.children[1].material.opacity=c.alphaA,n.children[2].material.opacity=c.alphaB})).delay(1e3+10*t);a.chain(h)},i=0;i<this.boardLength;i++)t(i)}},{key:"addNullBox",value:function(){var e=new f.BoxGeometry(10,10,10),t=new f.MeshNormalMaterial;this.nullMesh=this.getMesh(e,t),this.scene.add(this.nullMesh);var i=0,n=80,r=-50;this.nullMesh.position.set(i,n,r)}},{key:"createScene",value:function(){this.scene=new f.Scene,this.renderer=new f.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=f.PCFSoftShadowMap,this.renderer.autoClear=!1,document.getElementById(a.GalleryStage).appendChild(this.renderer.domElement)}},{key:"createCamera",value:function(){this.camera=new f.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1),this.camera.position.set(0,80,150),this.camera.lookAt(new f.Vector3(0,50,-80)),this.scene.add(this.camera)}},{key:"addOrbitControls",value:function(){this.controls=new fe.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.enableZoom=!0,this.zoomSpeed=1,this.controls.enablePan=!0}},{key:"addAmbientLight",value:function(){var e=new f.AmbientLight(4210752,1);this.scene.add(e)}},{key:"addDirectionalLight",value:function(){var e=new f.DirectionalLight(16777215,1);e.position.set(0,300,30),this.scene.add(e)}},{key:"addSpotLight",value:function(){var e=new f.SpotLight("#7bccd7",1,1e3);e.position.set(0,27,0),e.castShadow=!0,this.scene.add(e)}},{key:"addRectLight",value:function(){var e=new f.RectAreaLight("#341212",1,2e3,2e3);e.position.set(5,50,50),e.lookAt(0,0,0),this.scene.add(e)}},{key:"addPointLight",value:function(e,t){var i=new f.PointLight(e,1,1e3,1);i.position.set(t.x,t.y,t.z),this.scene.add(i)}},{key:"addHelper",value:function(){var e=new f.GridHelper(500,50);this.scene.add(e);var t=new f.AxesHelper(500);this.scene.add(t)}},{key:"getMesh",value:function(e,t){var i=new f.Mesh(e,t);return i.castShadow=!0,i.receiveShadow=!0,i}}])&&ye(t.prototype,i),n&&ye(t,n),e}();function be(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function we(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?be(Object(i),!0).forEach((function(t){Te(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):be(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Pe=we(we({},u),{},{props:{instance:null},init:function(){return this.props.instance=new ve,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(e){this.props.instance.onMouseMove(e)},onClick:function(e){this.props.instance.onClick(e)}}),Oe=i(11),ke=function(e){f.Object3D.call(this),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))};(ke.prototype=Object.create(f.Object3D.prototype)).constructor=ke;var _e=function(e){ke.call(this,e)};(_e.prototype=Object.create(ke.prototype)).constructor=_e;var je=function(){var e,t,i,n,r=new f.Matrix4,o={camera:{fov:0,style:""},objects:new WeakMap},s=document.createElement("div");s.style.overflow="hidden",this.domElement=s;var a=document.createElement("div");a.style.WebkitTransformStyle="preserve-3d",a.style.transformStyle="preserve-3d",a.style.pointerEvents="none",s.appendChild(a);var c=/Trident/i.test(navigator.userAgent);function h(e){return Math.abs(e)<1e-10?0:e}function l(e){var t=e.elements;return"matrix3d("+h(t[0])+","+h(-t[1])+","+h(t[2])+","+h(t[3])+","+h(t[4])+","+h(-t[5])+","+h(t[6])+","+h(t[7])+","+h(t[8])+","+h(-t[9])+","+h(t[10])+","+h(t[11])+","+h(t[12])+","+h(-t[13])+","+h(t[14])+","+h(t[15])+")"}function u(e,t){var r=e.elements,o="matrix3d("+h(r[0])+","+h(r[1])+","+h(r[2])+","+h(r[3])+","+h(-r[4])+","+h(-r[5])+","+h(-r[6])+","+h(-r[7])+","+h(r[8])+","+h(r[9])+","+h(r[10])+","+h(r[11])+","+h(r[12])+","+h(r[13])+","+h(r[14])+","+h(r[15])+")";return c?"translate(-50%,-50%)translate("+i+"px,"+n+"px)"+t+o:"translate(-50%,-50%)"+o}this.getSize=function(){return{width:e,height:t}},this.setSize=function(r,o){i=(e=r)/2,n=(t=o)/2,s.style.width=r+"px",s.style.height=o+"px",a.style.width=r+"px",a.style.height=o+"px"};var p,d,m=(p=new f.Vector3,d=new f.Vector3,function(e,t){return p.setFromMatrixPosition(e.matrixWorld),d.setFromMatrixPosition(t.matrixWorld),p.distanceToSquared(d)});function g(e){for(var t=function(e){var t=[];return e.traverse((function(e){e instanceof ke&&t.push(e)})),t}(e).sort((function(e,t){return o.objects.get(e).distanceToCameraSquared-o.objects.get(t).distanceToCameraSquared})),i=t.length,n=0,r=t.length;n<r;n++)t[n].element.style.zIndex=i-n}this.render=function(e,t){var f=t.projectionMatrix.elements[5]*n;if(o.camera.fov!==f&&(t.isPerspectiveCamera?(s.style.WebkitPerspective=f+"px",s.style.perspective=f+"px"):(s.style.WebkitPerspective="",s.style.perspective=""),o.camera.fov=f),!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.isOrthographicCamera)var p=-(t.right+t.left)/2,d=(t.top+t.bottom)/2;var y=t.isOrthographicCamera?"scale("+f+")translate("+h(p)+"px,"+h(d)+"px)"+l(t.matrixWorldInverse):"translateZ("+f+"px)"+l(t.matrixWorldInverse),v=y+"translate("+i+"px,"+n+"px)";o.camera.style===v||c||(a.style.WebkitTransform=v,a.style.transform=v,o.camera.style=v),function e(t,i,n){if(t instanceof ke){var s;t instanceof _e?(r.copy(i.matrixWorldInverse),r.transpose(),r.copyPosition(t.matrixWorld),r.scale(t.scale),r.elements[3]=0,r.elements[7]=0,r.elements[11]=0,r.elements[15]=1,s=u(r,n)):s=u(t.matrixWorld,n);var h=t.element,l=o.objects.get(t);if(void 0===l||l.style!==s){h.style.WebkitTransform=s,h.style.transform=s;var f={style:s};c&&(f.distanceToCameraSquared=m(i,t)),o.objects.set(t,f)}h.parentNode!==a&&a.appendChild(h)}for(var p=0,d=t.children.length;p<d;p++)e(t.children[p],i,n)}(e,t,y),c&&g(e)}};var Ee=function e(t,i,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=document.createElement("div");s.style.width="800px",s.style.height="450px";var a=document.createElement("iframe");a.style.width="800px",a.style.height="450px",a.style.border="0px",a.src=t,s.appendChild(a);var c=new ke(s);return c.position.set(i,n,r),c.rotation.y=o,c};var Se=window.pdfjsLib,Ce=function e(t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.room_id="a07";var o=document.createElement("canvas");o.width=800,o.height=500;var s=o.getContext("2d");Se.getDocument("./pdf/".concat(this.room_id,".pdf")).promise.then((function(e){var t;t=1,e.getPage(t).then((function(e){var t=e.getViewport({scale:800/720}),i={canvasContext:s,viewport:t};e.render(i).promise.then((function(){console.log("Page rendered")}))}))}));var a=new ke(o);return a.position.set(t,i,n),a.rotation.y=r,a};function xe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(i),!0).forEach((function(t){Be(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Be(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Le={props:{isEnable:!1},init:function(){var e=this.props,t=e.camera,i=e.scene,n=e.renderer,r=e.controls,o=document.getElementById(a.DetailStage);(t=new f.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,5e3)).position.set(0,0,2e3),i=new f.Scene,(n=new je).setSize(window.innerWidth,window.innerHeight),o.appendChild(n.domElement);var s=new f.Group;s.add(new Ce(0,300,450,0)),s.add(new Ee("https://www.youtube.com/embed/G9AtkiCESAg",1e3,0,0,-Math.PI/8)),s.add(new Ee("https://www.youtube.com/embed/9PVjlAm-A1A",-1e3,0,0,Math.PI/8)),s.add(new Ee("https://salty-waters-60310.herokuapp.com/a07",0,-300,450,0)),i.add(s),(r=new Oe.a(t,n.domElement)).rotateSpeed=4;var c=document.getElementById(a.DetailBlocker);c.style.display="none",r.addEventListener("start",(function(){c.style.display=""})),r.addEventListener("end",(function(){c.style.display="none"})),this.props=Me(Me({},this.props),{camera:t,scene:i,renderer:n,controls:r}),this.addEvent()},draw:function(){var e=this.props,t=e.controls,i=e.renderer,n=e.scene,r=e.camera;t.update(),i.render(n,r)},onResize:function(){var e=this.props,t=(e.controls,e.renderer),i=(e.scene,e.camera);i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)},onKeyUp:function(e){e.keyCode===r&&this.hide()},addEvent:function(){var e=this;document.addEventListener(o,(function(t){return e.show()}))},show:function(){var e=document.getElementById(a.DetailContainer),t=document.getElementById(a.GalleryContainer);this.props.isEnable=!0,e.style.visibility="visible",t.style.visibility="hidden"},hide:function(){var e=document.getElementById(a.DetailContainer),t=document.getElementById(a.GalleryContainer);this.props.isEnable=!1,e.style.visibility="hidden",t.style.visibility="visible"}};function Ae(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Re(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(i),!0).forEach((function(t){De(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ae(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function De(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ze=Re(Re({},u),{},{props:{instance:null},init:function(){return this.props.instance=Le,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onKeyUp:function(e){this.props.instance.onKeyUp(e)}});i(19);function Ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._scene=t,this._renderer=new f.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setClearColor(new f.Color(0),0),this._renderer.setSize(h(),l()),this._renderer.setPixelRatio(1),this.clock=new f.Clock}var t,i,n;return t=e,(i=[{key:"update",value:function(){this._scene.update()}},{key:"onKeyUp",value:function(e){this._scene.onKeyUp(e)}}])&&Ie(t.prototype,i),n&&Ie(t,n),e}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=Fe(e);if(t){var r=Fe(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ue(this,i)}}function Ue(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(o,e);var t,i,n,r=He(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).frame=0,e.prepareMesh=e.prepareMesh.bind(Ne(e)),e.checkIntersection=e.checkIntersection.bind(Ne(e)),e.meshes={},e.meshes[0]||(e.meshes[0]=e.prepareMesh()),e}return t=o,(i=[{key:"prepareMesh",value:function(){for(var e=new Float32Array(300),t=0;t<e.length;t+=3)e[t]=e[t+1]=e[t+2]=0;var i=new R.MeshLine;i.setGeometry(e,(function(e){return e}));var n=new R.MeshLineMaterial({color:11320570,lineWidth:.6,depthTest:!1});return this.mesh=new f.Mesh(i.geometry,n),this.mesh.geo=e,this.mesh.g=i,this.add(this.mesh),this.mesh}},{key:"checkIntersection",value:function(){this.mesh=this.meshes[0];for(var e=this.mesh.geo,t=this.mesh.g,i=0;i<e.length;i+=3)e[i]=1*e[i+3],e[i+1]=1*e[i+4],e[i+2]=1*e[i+5];var n=Math.random(),r=100*(2*Math.random()-1);n>.66?(e[e.length-6]>90&&r>0&&(r*=-1),e[e.length-6]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6]+r,e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]):n>.33?(e[e.length-5]>90&&r>0&&(r*=-1),e[e.length-5]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5]+r,e[e.length-1]=e[e.length-4]):(e[e.length-4]>90&&r>0&&(r*=-1),e[e.length-4]<-90&&r<0&&(r*=-1),e[e.length-3]=e[e.length-6],e[e.length-2]=e[e.length-5],e[e.length-1]=e[e.length-4]+r),t.setGeometry(e)}},{key:"update",value:function(){if(this.frame+=1,this.frame%4==0)for(var e in this.meshes)this.checkIntersection(e)}}])&&Ge(t.prototype,i),n&&Ge(t,n),o}(f.Object3D);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t,i){return t&&Ze(e.prototype,t),i&&Ze(e,i),e}function Qe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=it(e);if(t){var r=it(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return tt(this,i)}}function tt(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){Qe(i,e);var t=et(i);function i(){var e;return Je(this,i),(e=t.call(this)).frame=1200,e.scene0=new rt,e.add(e.scene0),e.camPos=new f.Vector3(0,-30,0),e.camTarget=new f.Vector3(-50,-25,-50),e.camTargetBool_openingIsEnd=!1,e.camTargetBool_A=!1,e.camTargetBool_B=!1,e.camTargetBool_C=!1,e.camTargetBool_BACKSPACE=!1,e}return Ye(i,[{key:"setup",value:function(){}},{key:"update",value:function(){this.frame+=1,this.camPos.x+=.01*(this.camTarget.x-this.camPos.x),this.camPos.y+=.01*(this.camTarget.y-this.camPos.y),this.camPos.z+=.01*(this.camTarget.z-this.camPos.z),this.scene0.position.set(this.camPos.x,this.camPos.y,this.camPos.z),350==this.frame&&(this.camTarget=new f.Vector3(-150,-100,-50)),700==this.frame&&(this.camTarget=new f.Vector3(-50,-25,-50)),1100==this.frame&&(this.camTarget=new f.Vector3(70,-80,-200)),1350==this.frame&&(this.camTarget=new f.Vector3(-50,-25,-50)),this.scene0.rotation.y=45*Math.PI/180,this.scene0.update()}},{key:"onKeyUp",value:function(e){e.keyCode==U&&(console.log("show 7 panels!"),0==this.camTargetBool_openingIsEnd&&(this.camTargetBool_openingIsEnd=!0,this.camTarget=new f.Vector3(-270,-55,-350))),e.keyCode==N&&(console.log("Please go to room_A!"),0==this.camTargetBool_A&&(this.camTargetBool_A=!0,this.camTarget=new f.Vector3(-122,-40,-42),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_B=!0,this.camTargetBool_C=!0)),e.keyCode==F&&(console.log("Please go to room_B!"),0==this.camTargetBool_B&&(this.camTargetBool_B=!0,this.camTarget=new f.Vector3(-230,-85,-30),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_A=!0,this.camTargetBool_C=!0)),e.keyCode==X&&(console.log("Please go to room_C!"),0==this.camTargetBool_C&&(this.camTargetBool_C=!0,this.camTarget=new f.Vector3(-338,-145,-18),this.camTargetBool_BACKSPACE=!1,this.camTargetBool_B=!0,this.camTargetBool_A=!0)),e.keyCode==q&&(console.log("Please back to 7 panels!"),0==this.camTargetBool_BACKSPACE&&(this.camTargetBool_BACKSPACE=!0,this.camTarget=new f.Vector3(-270,-55,-350),this.camTargetBool_A=!1,this.camTargetBool_B=!1,this.camTargetBool_C=!1))}}]),i}(f.Scene),rt=function(e){Qe(i,e);var t=et(i);function i(){var e;return Je(this,i),(e=t.call(this)).scene1=new ot,e.add(e.scene1),e.scene2=new st,e.add(e.scene2),e}return Ye(i,[{key:"update",value:function(){this.scene1.update(),this.scene2.update()}}]),i}(f.Scene),ot=function(e){Qe(i,e);var t=et(i);function i(){var e;return Je(this,i),(e=t.call(this))._line=new Xe,e._line.position.set(150,70,150),e.add(e._line),e._line2=new Xe,e._line.position.set(150,70,150),e.add(e._line2),e}return Ye(i,[{key:"update",value:function(){this._line.update(),this._line2.update()}}]),i}(f.Scene),st=function(e){Qe(i,e);var t=et(i);function i(){var e;Je(this,i),(e=t.call(this)).frame=1200,e.meshList=[],e.meshGroup=new f.Group;var n=new f.MeshBasicMaterial({color:16777215,wireframe:!0,opacity:.9,transparent:!0});e.PlateNum=320,e.positions=[],e.posTarget=[];for(var r=0;r<e.PlateNum;r++)e.floorsize=27,e.geometry=new f.PlaneBufferGeometry(e.floorsize,e.floorsize),e.mesh=new f.Mesh(e.geometry,n),e.mesh.position.set(0,0,0),e.mesh.rotation.x=90*Math.PI/180,e.meshGroup.add(e.mesh),e.meshList.push(e.mesh),e.positions.push(e.mesh.position.x,e.mesh.position.y,e.mesh.position.z),e.posTarget.push(0,0,0);return e.clock=new f.Clock,e.tSpeed=2,e.easeElapsedTime=0,e.eansingBool=!0,e.add(e.meshGroup),e.openingIsEnd=!1,e}return Ye(i,[{key:"update",value:function(){if(this.frame+=1,1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var e=0;e<this.meshList.length;e++){this.meshList[e].position.x=this.positions[3*e+0],this.meshList[e].position.y=this.positions[3*e+1],this.meshList[e].position.z=this.positions[3*e+2];for(var t=0;t<3;t++){var i=this.positions[3*e+t],n=this.posTarget[3*e+t];this.positions[3*e+t]=i*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var o=0;o<4;o++)r>=80*o&&r<80*(o+1)&&(this.posTarget[3*r+0]=25*o,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(110==this.frame){for(var s=0;s<this.meshList.length;s++)for(var a=0;a<4;a++)if(s>=80*a&&s<80*(a+1))for(var c=0;c<4;c++)s>=80*a+20*c&&s<80*a+20*(c+1)&&(this.posTarget[3*s+0]=25*a,this.posTarget[3*s+1]=0,this.posTarget[3*s+2]=25*c);this.easeElapsedTime=0}if(170==this.frame){for(var h=0;h<this.meshList.length;h++)for(var l=0;l<4;l++)if(h>=80*l&&h<80*(l+1))for(var u=0;u<4;u++)if(h>=80*l+20*u&&h<80*l+20*(u+1))for(var f=0;f<20;f++)h>=80*l+20*u+1*f&&h<80*l+20*u+1*(f+1)&&(this.posTarget[3*h+0]=25*l,this.posTarget[3*h+1]=7*f,this.posTarget[3*h+2]=25*u);this.easeElapsedTime=0,this.tSpeed=4}if(280==this.frame){for(var p=0;p<this.meshList.length;p++)for(var d=0;d<4;d++)if(p>=80*d&&p<80*(d+1))for(var m=0;m<4;m++)if(p>=80*d+20*m&&p<80*d+20*(m+1))for(var g=0;g<10;g++)p>=80*d+20*m+2*g&&p<80*d+20*m+2*(g+1)&&(this.posTarget[3*p+0]=45*m,this.posTarget[3*p+1]=10*g,this.posTarget[3*p+2]=45*d);this.easeElapsedTime=0,this.tSpeed=4}if(430==this.frame){for(var y=0;y<this.meshList.length;y++)for(var v=0;v<4;v++)if(y>=80*v&&y<80*(v+1))for(var b=0;b<4;b++)if(y>=80*v+20*b&&y<80*v+20*(b+1))for(var w=0;w<10;w++)y>=80*v+20*b+2*w&&y<80*v+20*b+2*(w+1)&&(this.posTarget[3*y+0]=45*v,this.posTarget[3*y+1]=0,this.posTarget[3*y+2]=45*b);this.easeElapsedTime=0,this.tSpeed=7}if(490==this.frame){for(var T=0;T<this.meshList.length;T++)for(var P=0;P<4;P++)if(T>=80*P&&T<80*(P+1))for(var O=0;O<4;O++)if(T>=80*P+20*O&&T<80*P+20*(O+1))for(var k=0;k<10;k++)T>=80*P+20*O+2*k&&T<80*P+20*O+2*(k+1)&&(this.posTarget[3*T+0]=30*P,this.posTarget[3*T+1]=0,this.posTarget[3*T+2]=30*O);this.easeElapsedTime=0,this.tSpeed=4}if(550==this.frame){for(var _=0;_<this.meshList.length;_++)for(var j=0;j<8;j++)if(_>=40*j&&_<40*(j+1))for(var E=0;E<8;E++)if(_>=40*j+5*E&&_<40*j+5*(E+1))for(var S=0;S<5;S++)_>=40*j+5*E+1*S&&_<40*j+5*E+1*(S+1)&&(this.posTarget[3*_+0]=15*j,this.posTarget[3*_+1]=0,this.posTarget[3*_+2]=15*E);this.easeElapsedTime=0,this.tSpeed=4}if(600==this.frame){for(var C=0;C<this.meshList.length;C++)for(var x=0;x<8;x++)if(C>=40*x&&C<40*(x+1))for(var M=0;M<8;M++)if(C>=40*x+5*M&&C<40*x+5*(M+1))for(var B=0;B<5;B++)C>=40*x+5*M+1*B&&C<40*x+5*M+1*(B+1)&&(this.posTarget[3*C+0]=20*x,this.posTarget[3*C+1]=30*Math.sin((30*(x+M)+2*(this.frame+60))*Math.PI/180),this.posTarget[3*C+2]=20*M);this.easeElapsedTime=0}if(660==this.frame&&(this.eansingBool=!1),this.frame>=660&&this.frame<780){for(var L=0;L<this.meshList.length;L++)this.meshList[L].position.x=this.positions[3*L+0],this.meshList[L].position.y=this.positions[3*L+1],this.meshList[L].position.z=this.positions[3*L+2];for(var A=0;A<this.meshList.length;A++)for(var R=0;R<8;R++)if(A>=40*R&&A<40*(R+1))for(var D=0;D<8;D++)if(A>=40*R+5*D&&A<40*R+5*(D+1))for(var z=0;z<5;z++)A>=40*R+5*D+1*z&&A<40*R+5*D+1*(z+1)&&(this.positions[3*A+0]=20*R,this.positions[3*A+1]=30*Math.sin((30*(R+D)+2*this.frame)*Math.PI/180),this.positions[3*A+2]=20*D)}if(780==this.frame&&(this.eansingBool=!0),780==this.frame){for(var I=0;I<this.meshList.length;I++)for(var V=0;V<8;V++)if(I>=40*V&&I<40*(V+1))for(var W=0;W<8;W++)if(I>=40*V+5*W&&I<40*V+5*(W+1))for(var G=0;G<5;G++)I>=40*V+5*W+1*G&&I<40*V+5*W+1*(G+1)&&(this.posTarget[3*I+0]=80*Math.sin(2*I*Math.PI/180)+50,this.posTarget[3*I+1]=25,this.posTarget[3*I+2]=80*Math.cos(2*I*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=30}if(900==this.frame){for(var K=0;K<this.meshList.length;K++)for(var H=0;H<4;H++)if(K>=80*H&&K<80*(H+1))for(var U=0;U<4;U++)if(K>=80*H+20*U&&K<80*H+20*(U+1))for(var N=0;N<10;N++)K>=80*H+20*U+2*N&&K<80*H+20*U+2*(N+1)&&(this.posTarget[3*K+0]=4*U+50,this.posTarget[3*K+1]=1.5*N+25,this.posTarget[3*K+2]=4*H+50);this.easeElapsedTime=0,this.tSpeed=8}if(1e3==this.frame){for(var F=0;F<this.meshList.length;F++)for(var X=0;X<4;X++)if(F>=80*X&&F<80*(X+1))for(var q=0;q<4;q++)if(F>=80*X+20*q&&F<80*X+20*(q+1))for(var J=0;J<10;J++)F>=80*X+20*q+2*J&&F<80*X+20*q+2*(J+1)&&(this.posTarget[3*F+0]=70*Math.sin(4*F*Math.PI/180)+50,this.posTarget[3*F+1]=70*Math.cos(40*(X+q+J)*Math.PI/180)+25,this.posTarget[3*F+2]=-70*Math.sin(8*F*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=12}if(1150==this.frame){for(var Z=0;Z<this.meshList.length;Z++)for(var Y=0;Y<4;Y++)if(Z>=80*Y&&Z<80*(Y+1))for(var Q=0;Q<4;Q++)if(Z>=80*Y+20*Q&&Z<80*Y+20*(Q+1))for(var $=0;$<10;$++)Z>=80*Y+20*Q+2*$&&Z<80*Y+20*Q+2*($+1)&&(this.posTarget[3*Z+0]=25*Y,this.posTarget[3*Z+1]=0,this.posTarget[3*Z+2]=25*Q);this.easeElapsedTime=0,this.tSpeed=4}if(1270==this.frame){for(var ee=0;ee<this.meshList.length;ee++)for(var te=0;te<4;te++)if(ee>=80*te&&ee<80*(te+1))for(var ie=0;ie<4;ie++)if(ee>=80*te+20*ie&&ee<80*te+20*(ie+1))for(var ne=0;ne<20;ne++)ee>=80*te+20*ie+1*ne&&ee<80*te+20*ie+1*(ne+1)&&(this.posTarget[3*ee+0]=20*te,this.posTarget[3*ee+1]=5*ne,this.posTarget[3*ee+2]=20*ie);this.easeElapsedTime=0,this.tSpeed=4}if(1370==this.frame){for(var re=0;re<this.meshList.length;re++)for(var oe=0;oe<4;oe++)if(re>=80*oe&&re<80*(oe+1))for(var se=0;se<4;se++)if(re>=80*oe+20*se&&re<80*oe+20*(se+1))for(var ae=0;ae<10;ae++)re>=80*oe+20*se+2*ae&&re<80*oe+20*se+2*(ae+1)&&(this.posTarget[3*re+0]=25*(oe+ae),this.posTarget[3*re+1]=15*ae,this.posTarget[3*re+2]=25*(se+ae));this.easeElapsedTime=0,this.tSpeed=10}1470==this.frame&&0==this.openingIsEnd&&(this.openingIsEnd=!0)}}]),i}(f.Scene);function at(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parameter=t||{},this.index=this.parameter.index,this.imgPath=this.parameter.imgPath,this.posterTitle=this.parameter.posterTitle,this.boardWidth=80,this.boardHeight=45,this.fontSize=3.5,this.entity=null,this.position=new f.Vector3,this.rotation=new f.Vector3,this.scale=new f.Vector3(this.boardWidth,this.boardHeight,1)}var t,i,n;return t=e,(i=[{key:"init",value:function(){}},{key:"lookAt",value:function(){this.rotation.set(0,180+180*Math.atan2(this.position.x,this.position.z)/Math.PI,0),this.draw()}},{key:"createPlaneObject",value:function(){return this.entity=document.createElement("a-entity"),this.entity.setAttribute("geometry","primitive: plane"),this.entity.setAttribute("material","shader: flat; color: #222; src: ".concat(this.imgPath)),this.entity.setAttribute("class","collidable"),this.draw(),this}},{key:"draw",value:function(){var e=this.position,t=e.x,i=e.y,n=e.z,r=this.rotation,o=r.x,s=r.y,a=r.z,c=this.scale,h=c.x,l=c.y,u=c.z;this.entity.setAttribute("position",[t,i,n].join(" ")),this.entity.setAttribute("rotation",[o,s,a].join(" ")),this.entity.setAttribute("scale",[h,l,u].join(" ")),console.dir([t,i,n].join(" "))}},{key:"log",value:function(){console.log("poster call")}},{key:"createLabel",value:function(e){return null}}])&&at(t.prototype,i),n&&at(t,n),e}();function ht(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,n;return t=e,(i=[{key:"init",value:function(e){this.rootScene=e,this.setup(),this.createScene(),this.createCamera(),c()||this.addOrbitControls(),this.addAmbientLight(),this.addDirectionalLight(),this.addBorad()}},{key:"setup",value:function(){this.mesheList=[],this.backgroundColor="#000000",this.width=window.innerWidth,this.height=window.innerHeight,this.mouse3D=new f.Vector2,this.meshList=[],this.raycaster=new f.Raycaster,this.rayReceiveObjects=[],this.posterData=de,this.boardLength=this.posterData.imgPath.length,this.boardPosRadius=200,this.boardAngle=180/this.boardLength,this.categoryAngle=180+this.boardAngle/2}},{key:"draw",value:function(e){if(!c()){this.mouse3D=new f.Vector2(e.x,e.y),this.raycaster.setFromCamera(this.mouse3D,this.camera);var t=this.raycaster.intersectObjects(this.rayReceiveObjects);this.rayReceiveObjects.map((function(e){t.length>0&&e===t[0].object?e.material.color.setHex(16777215):e.material.color.setHex(2236962)})),this.controls.update()}pe.a.update(),this.renderer.render(this.scene,this.camera)}},{key:"onMouseMove",value:function(e){var t=e.clientX,i=e.clientY;this.mouse3D.x=t/this.width*2-1,this.mouse3D.y=-i/this.height*2+1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"onClick",value:function(e){var t=this.raycaster.intersectObjects(this.rayReceiveObjects);if(t.length>0){var i=t[0].object.name;console.dir(i),document.dispatchEvent(new CustomEvent(o,{detail:{message:"Please show me a detail!"}}))}}},{key:"addBorad",value:function(){for(var e=0;e<10;e++){var t={index:e,imgPath:this.posterData.imgPath[e],posterTitle:this.posterData.posterTitle[e]};this.boardPosRadius=150,this.board=new ct(t);var i=this.board.createPlaneObject(),n=void 0;n=e%2==0?40:-30,i.position.set(this.boardPosRadius*Math.cos(f.Math.degToRad(e*this.boardAngle+this.categoryAngle)),n,this.boardPosRadius*Math.sin(f.Math.degToRad(e*this.boardAngle+this.categoryAngle))),i.lookAt(new f.Vector3(0,0,0)),c()?this.rootScene.appendChild(i.entity):this.scene.add(i),this.meshList.push(i)}}},{key:"addNullBox",value:function(){var e=new f.BoxGeometry(10,10,10),t=new f.MeshNormalMaterial;this.nullMesh=this.getMesh(e,t),this.scene.add(this.nullMesh);var i=0,n=80,r=-50;this.nullMesh.position.set(i,n,r)}},{key:"createScene",value:function(){this.scene=new f.Scene,this.renderer=new f.WebGLRenderer({antialias:!0,alpha:!1}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),c()||document.getElementById(a.Gallery).appendChild(this.renderer.domElement)}},{key:"createCamera",value:function(){this.camera=new f.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1),this.camera.position.set(0,80,150),this.camera.lookAt(new f.Vector3(0,50,-80)),this.scene.add(this.camera)}},{key:"addOrbitControls",value:function(){this.controls=new fe.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.enableZoom=!0,this.zoomSpeed=1,this.controls.enablePan=!0}},{key:"addAmbientLight",value:function(){var e=new f.AmbientLight(4210752,1);this.scene.add(e)}},{key:"addDirectionalLight",value:function(){var e=new f.DirectionalLight(16777215,1);e.position.set(0,300,30),this.scene.add(e)}},{key:"addSpotLight",value:function(){var e=new f.SpotLight("#7bccd7",1,1e3);e.position.set(0,27,0),e.castShadow=!0,this.scene.add(e)}},{key:"addRectLight",value:function(){var e=new f.RectAreaLight("#341212",1,2e3,2e3);e.position.set(5,50,50),e.lookAt(0,0,0),this.scene.add(e)}},{key:"addPointLight",value:function(e,t){var i=new f.PointLight(e,1,1e3,1);i.position.set(t.x,t.y,t.z),this.scene.add(i)}},{key:"addHelper",value:function(){var e=new f.GridHelper(500,50);this.scene.add(e);var t=new f.AxesHelper(500);this.scene.add(t)}},{key:"getMesh",value:function(e,t){var i=new f.Mesh(e,t);return i.castShadow=!0,i.receiveShadow=!0,i}},{key:"getScene",value:function(){return this.scene}}])&&ht(t.prototype,i),n&&ht(t,n),e}();function ut(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(i),!0).forEach((function(t){pt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ut(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function pt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var dt=window.AFRAME,mt=ft(ft({},u),{},{props:{},setup:function(){this.props.xr_player=document.getElementById(a.XRPlayer),dt.registerComponent("module-background",{props:{},modules:{background:{}},init:function(){var e=this;this.props.scene=this.el.object3D,this.modules.background.scene=new nt,this.modules.background.scene.setup(),this.modules.background.app=new Ve(this.modules.background.scene),this.props.scene.add(this.modules.background.scene),document.addEventListener("keyup",(function(t){return e.modules.background.scene.onKeyUp(t)}))},update:function(){console.log("Scene update")},tick:function(){this.modules.background.app.update()}}),dt.registerComponent("module-gallery",{props:{},modules:{gallery:{}},init:function(){var e=this;console.log("Module gallery"),this.props.scene=this.el.object3D,this.props.camera=document.getElementById(a.XRCamera).object3D,setTimeout((function(){e.modules.gallery.app=new lt,e.modules.gallery.app.init(e.el,e.props.camera)}),1e3)},tick:function(){if(null!=this.props.camera&&null!=this.modules.gallery.app){var e=new f.Vector3(0,0,-1).applyMatrix4(this.props.camera.matrixWorld).sub(this.el.object3D.position).normalize();this.modules.gallery.app.draw(e)}}}),dt.registerComponent("collider-check",{dependencies:["raycaster"],props:{},init:function(){console.log("Module collider-check"),this.el.addEventListener("raycaster-intersection",(function(e){var t=e.detail.intersections;t.length>0&&t[0].object.material.color.set(16777215)})),this.el.addEventListener("raycaster-intersection-cleared",(function(e){for(var t=e.detail.clearedEls,i=0;i<t.length;i++)t[i].object3DMap.mesh.material.color.set(2236962)}))}}),null!=this.props.xr_player&&this.props.xr_player.setAttribute("collider-check")}});function gt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(i),!0).forEach((function(t){vt(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function vt(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var bt=yt(yt({},u),{},{props:{instance:null},init:function(){return this.props.instance=mt,this},setup:function(){this.props.instance.setup()},update:function(){},draw:function(){},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(e){this.props.instance.onMouseMove(e)},onKeyUp:function(e){this.props.instance.onKeyUp(e)}}),wt={props:{isPause:!1},instances:{},init:function(){return c()?this.instances.xr=bt.init():(this.instances.background=ue.init(),this.instances.gallery=Pe.init(),this.instances.detail=ze.init()),this.addEvent(),this.setup(),this},setup:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instances.forIn((function(e,t){return t.setup()})),this.update()},update:function(){var e=this;this.instances.forIn((function(e,t){return t.update()})),window.requestAnimationFrame((function(){e.props.isPause||e.update()})),this.draw()},draw:function(){this.instances.forIn((function(e,t){return t.draw()}))},destroy:function(){},pause:function(){this.props.isPause=!0},resume:function(){this.props.isPause=!1},onResize:function(){this.instances.forIn((function(e,t){return t.onResize()}))},onMouseMove:function(e){this.instances.forIn((function(t,i){return i.onMouseMove(e)}))},onKeyUp:function(e){this.instances.forIn((function(t,i){return i.onKeyUp(e)}))},onClick:function(e){this.instances.forIn((function(t,i){return i.onClick(e)}))},addEvent:function(e){}},Tt=Tt||{};Tt.PosterSession=Tt.PosterSession||{},Tt.PosterSession.App={delegator:null,init:function(){this.addExtensions(),this.delegator=wt.init(),this.addEvent()},onResize:function(){this.delegator.onResize()},onMouseMove:function(e){this.delegator.onMouseMove(e)},onKeyUp:function(e){this.delegator.onKeyUp(e)},onClick:function(e){this.delegator.onClick(e)},addEvent:function(){var e=this;window.addEventListener("resize",(function(){return e.onResize()})),window.addEventListener("mousemove",(function(t){return e.onMouseMove(t)})),window.addEventListener("keyup",(function(t){return e.onKeyUp(t)})),document.addEventListener("click",(function(t){return e.onClick(t)}))},addExtensions:function(){n.init()}},window.addEventListener("DOMContentLoaded",(function(){!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.enable=e}(document.getElementsByTagName("a-scene").length>0),console.log("VRMode: ".concat(c())),Tt.PosterSession.App.init()}))}});