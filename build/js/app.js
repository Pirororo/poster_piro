!function(t){function e(e){for(var n,a,s=e[0],c=e[1],h=e[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);f.length;)f.shift()();return i.push.apply(i,h||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,s=1;s<o.length;s++){var c=o[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},r={0:0},i=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var l=c;i.push([48,1]),o()}({25:function(t,e,o){var n=o(26),r=o(27);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);t.exports=r.locals||{}},27:function(t,e,o){(e=o(28)(!1)).push([t.i,'html,body{margin:0;padding:0;width:100%;height:100%}body{font-family:"Helvetica Neue",Arial,"Hiragino Kaku Gothic ProN","Hiragino Sans",Meiryo,sans-serif;background-color:#000;overflow:hidden}.common_container{position:fixed;top:0;left:0;z-index:1}.common_screen_shade{position:fixed;width:100%;height:100%;z-index:2;background-color:#000}#content_container{position:relative}#background_container{z-index:1}#WebGL-output{width:100%;height:100%}#category_container{z-index:10}#category_stage{position:relative}#gallery_container{z-index:11}#dialog{position:fixed;top:0;left:0;color:#fff}#dialog button{padding:1em;font-size:1em}#buttons{position:fixed;top:0;right:0;z-index:1;background:#fff}#detail_container{z-index:20;visibility:hidden}#blocker{position:absolute}#xr_mode #content_container{position:fixed}#xr_mode #xr_scene{z-index:200}#xr_mode #hud_container{z-index:250}#xr_mode .hud_ui{position:absolute;top:300px;width:520px;height:140px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:40px;font-weight:bold;background-color:rgba(200,200,200,.8);box-sizing:border-box}#xr_mode .gallery_poster_title{position:absolute;top:0;width:14.5em;height:7em;font-size:36px;line-height:1.4;color:#fff;font-weight:bold;background-color:rgba(0,0,0,.8);padding:2em .5em 0;box-sizing:border-box;user-select:none}#xr_mode .category_content_container{position:absolute;width:520px;height:520px;padding:80px .5em 0;font-size:36px;line-height:1.4;text-align:center;color:#fff;font-weight:bold;background-color:rgba(200,200,200,.8);box-sizing:border-box;user-select:none}#xr_mode .category_a{background:rgba(150,41,204,.6)}#xr_mode .category_b{background:rgba(41,95,204,.6)}#xr_mode .category_c{background:rgba(36,179,83,.6)}#xr_mode .category_d{background:rgba(46,199,230,.6)}#xr_mode .category_e{background:rgba(41,204,190,.6)}#xr_mode .category_f{background:rgba(68,41,204,.6)}#xr_mode .category_s{background:rgba(204,41,149,.6)}#xr_mode .category_id{font-size:48px;line-height:1;margin-bottom:20px}#xr_mode .category_title.english{font-size:40px;line-height:1.24}#xr_mode .category_title.japanese{position:absolute;top:300px;width:92%;text-align:center;font-weight:normal;font-size:24px}#xr_mode .category_copy{position:absolute;top:348px;width:92%;text-align:center;font-size:32px}#xr_mode #detail_container{visibility:visible}#xr_mode .detail_content_container{position:fixed;width:512px;height:512px;padding:.5em;font-size:24px;line-height:1.4;text-align:left;color:#000;font-weight:normal;background-color:rgba(255,255,255,.9);box-sizing:border-box;user-select:none}#xr_mode .detail_content_container_inner{position:relative;width:100%;height:100%;overflow:hidden}',""]),t.exports=e},48:function(t,e,o){"use strict";o.r(e);o(25);var n={init:function(){Object.defineProperty(Object.prototype,"forIn",{value:function(t,e){e=e||this,Object.keys(this).forEach((function(o,n){var r=this[o];t.call(e,o,r,n)}),this)}}),Object.defineProperty(Object.prototype,"isEmpty",{value:function(t,e){return!Object.keys(this).length}})}},r={enable:!1},i=32,a="ShowPoster",s="ShowDetail",c="BackToCategory",h="BackToPoster",l="VRModeStart",u="ShowCategoryA",f="ShowCategoryD",p="ShowCategoryG",d="background_container",m="hud_ui_stage",g="category_stage",y="gallery_container",b="gallery_stage",v="detail_container",w="detail_stage",T="detail_blocker",C="xr_scene",_="xr_player",O="xr_raycaster",P="xr_raycast_target",k="xr_hud_container",E="xr_category_board_container",j="xr_poster_panel_container",S="xr_poster_title_container",x="xr_detail_container",B="background-component",D="gallery-component",L="detail-component",R="raycast-check-component",M="raycast-target-component",A="category",I="poster",z="detail",V={BackToCategory:"ui_back_category",BackToPoster:"ui_back_poster",VRModeStart:"VRModeStart",ShowCategoryA:"ShowCategoryA",ShowCategoryB:"ShowCategoryB",ShowCategoryC:"ShowCategoryC",ShowCategoryD:"ShowCategoryD",ShowCategoryE:"ShowCategoryE",ShowCategoryF:"ShowCategoryF",ShowCategoryG:"ShowCategoryG"},G=10066329,U=16777215,W=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.enable},F={init:function(){return this},setup:function(){},update:function(){},draw:function(){},destroy:function(){},onResize:function(){},onMouseMove:function(t){},onKeyUp:function(t){},onClick:function(t){}},K=o(0),H=75,N=83,J=32,q=65,X=66,Z=67,Q=68,Y=69,$=70,tt=71,et=8,ot=(o(29),o(18)),nt=o(19),rt=o(5),it=o(20),at=o(6),st=o(24),ct=o(21),ht=o(3),lt=o(7),ut={uniforms:{tDiffuse:{value:null},color:{value:new lt.Color(16711680)},color2:{value:new lt.Color(16711680)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform vec3 color2;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec3 gradate = color * vUv.y + color2 * (1.0 - vUv.y);","gl_FragColor = vec4(v * gradate, texel.w );","}"].join("\n")};function ft(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var pt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initStats=this._initStats.bind(this),this.chooseRoomColor=this.chooseRoomColor.bind(this),this._stats=this._initStats(),this._scene=e,this._renderer=new K.WebGLRenderer({antialias:!0,alpha:!0}),this._renderer.setClearColor(new K.Color(0),0),this._renderer.setSize(window.innerWidth,window.innerHeight),this._renderer.setPixelRatio(1),this._wrapper=document.getElementById("WebGL-output"),this._wrapper.appendChild(this._renderer.domElement),this.clock=new K.Clock,this.onResize();var o=new nt.a(this._scene,this._scene.camera);o.clear=!0;new rt.b(this._scene,this._scene.camera),new it.a;this.colorify=new at.a(ut),this.gradColor1=7556260,this.gradColor2=322168,this.colorify.uniforms.color.value=new K.Color(this.gradColor1),this.colorify.uniforms.color2.value=new K.Color(this.gradColor2),this.colorify.uniforms.alpha=.8,this.colorify.enabled=!0;var n=new st.a(2,15,3,64);n.enabled=!0;var r=new at.a(ht.a);r.renderToScreen=!0,this.composer=new ct.a(this._renderer),this.composer.renderTarget1.stencilBuffer=!0,this.composer.renderTarget2.stencilBuffer=!0,this.composer.addPass(o),this.composer.addPass(this.colorify),this.composer.addPass(n),this.composer.addPass(r)}var e,o,n;return e=t,(o=[{key:"update",value:function(){this._stats.update(),this._renderer.autoClear=!1,this._scene.update(),this.composer.render()}},{key:"onKeyUp",value:function(t){t.keyCode==q&&this.chooseRoomColor(this._scene.camTargetBool_A,9841100,9841100),t.keyCode==X&&this.chooseRoomColor(this._scene.camTargetBool_B,2711500,2711500),t.keyCode==Z&&this.chooseRoomColor(this._scene.camTargetBool_C,2404947,2404947),t.keyCode==Q&&this.chooseRoomColor(this._scene.camTargetBool_D,3065829,3065829),t.keyCode==Y&&this.chooseRoomColor(this._scene.camTargetBool_E,2739390,2739390),t.keyCode==$&&this.chooseRoomColor(this._scene.camTargetBool_F,4467148,4467148),t.keyCode==tt&&this.chooseRoomColor(this._scene.camTargetBool_G,13379989,13379989),t.keyCode==et&&this.chooseRoomColor(this._scene.camTargetBool_BACKSPACE,this.gradColor1,this.gradColor2),this._scene.onKeyUp(t)}},{key:"chooseRoomColor",value:function(t,e,o){1==t&&(this.colorify.uniforms.color.value=new K.Color(e),this.colorify.uniforms.color2.value=new K.Color(o))}},{key:"addEvent",value:function(){this._scene.addEvent()}},{key:"draw",value:function(){}},{key:"onResize",value:function(){var t=this._wrapper.clientWidth,e=this._wrapper.clientHeight;this._renderer.domElement.setAttribute("width",String(t)),this._renderer.domElement.setAttribute("height",String(e)),this._renderer.setPixelRatio(window.devicePixelRatio||1),this._renderer.setSize(t,e),this._scene.camera.aspect=t/e,this._scene.camera.updateProjectionMatrix()}},{key:"_initStats",value:function(){return this._stats=new ot.a,this._stats.setMode(0),this._stats.domElement.style.position="absolute",this._stats.domElement.style.left="0px",this._stats.domElement.style.top="0px",document.getElementById("Stats-output").appendChild(this._stats.domElement),this._stats}}])&&ft(e.prototype,o),n&&ft(e,n),t}();function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=wt(t);if(e){var r=wt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return bt(this,o)}}function bt(t,e){return!e||"object"!==dt(e)&&"function"!=typeof e?vt(t):e}function vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(i,t);var e,o,n,r=yt(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,45,window.innerWidth/window.innerHeight,1,1e3)).frame=0,t.eansingBool=!0,t.camPos=new K.Vector3(100,300,120),t.camTarget=new K.Vector3(-370,300,320),t.lookPos=new K.Vector3(45,50,45),t.lookTarget=new K.Vector3(45,50,45),t.getCamPos=t.getCamPos.bind(vt(t)),t}return e=i,(o=[{key:"update",value:function(){this.frame<1800?this.frame+=1:(this.frame=1800,this.eansingBool),1==this.eansingBool&&(this.camPos.x+=.012*(this.camTarget.x-this.camPos.x),this.camPos.y+=.012*(this.camTarget.y-this.camPos.y),this.camPos.z+=.012*(this.camTarget.z-this.camPos.z),this.position.set(this.camPos.x,this.camPos.y,this.camPos.z),this.lookPos.x+=.02*(this.lookTarget.x-this.lookPos.x),this.lookPos.y+=.02*(this.lookTarget.y-this.lookPos.y),this.lookPos.z+=.02*(this.lookTarget.z-this.lookPos.z),this.lookAt(this.lookPos)),this.frame>=0&&this.frame<1170&&(30==this.frame&&(this.camTarget=new K.Vector3(-320,50,-200)),50==this.frame&&(this.camTarget=new K.Vector3(-20,-130,-150)),130==this.frame&&(this.lookTarget=new K.Vector3(45,80,45)),280==this.frame&&(this.lookTarget=new K.Vector3(45,50,45),this.camTarget=new K.Vector3(-120,350,320)),460==this.frame&&(this.frame+=320),420==this.frame&&(this.camTarget=new K.Vector3(170,150,50)),700==this.frame&&(this.camTarget=new K.Vector3(230,60,-60)),900==this.frame&&(this.camTarget=new K.Vector3(100,-100,-130))),1150==this.frame&&(this.frame+=50),this.frame>=1200&&(1200==this.frame&&(this.lookTarget=new K.Vector3(140,70,140),this.camTarget=new K.Vector3(240,480,160)),this.frame,1370==this.frame&&(this.lookTarget=new K.Vector3(70,40,70),this.camTarget=new K.Vector3(10,3,-20)))}},{key:"getCamPos",value:function(){}}])&&mt(e.prototype,o),n&&mt(e,n),i}(K.PerspectiveCamera),Ct=o(8),_t=(o(30),function(t,e){if(null!=t&&null!=e){var o=new XMLHttpRequest;o.addEventListener("load",(function t(n){e({result:n.target.response}),o.removeEventListener("load",t)})),o.open("GET",t,!0),o.send()}});function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=xt(t);if(e){var r=xt(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return jt(this,o)}}function jt(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?St(t):e}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kt(t,e)}(i,t);var e,o,n,r=Et(i);function i(t,e){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).frame=0,o.Times=0,o.prepareMesh=o.prepareMesh.bind(St(o)),o.checkIntersection=o.checkIntersection.bind(St(o)),o.getlineLength=o.getlineLength.bind(St(o)),o.loadCSVandConvertToArray2D=o.loadCSVandConvertToArray2D.bind(St(o)),o.doSomething=o.doSomething.bind(St(o)),o.meshes={},o.meshes[0]||(o.meshes[0]=o.prepareMesh()),o.lineLength=0,o.where=t,o.inout=e,o.data=[],o.loadCSVandConvertToArray2D(),o.DATAisOK=!1,o}return e=i,(o=[{key:"prepareMesh",value:function(){for(var t=new Float32Array(300),e=0;e<t.length;e+=3)t[e]=t[e+1]=t[e+2]=0;var o=new Ct.MeshLine;o.setGeometry(t,(function(t){return t}));var n=new Ct.MeshLineMaterial({color:11250603,lineWidth:.8,depthTest:!1});return this.mesh=new K.Mesh(o.geometry,n),this.mesh.geo=t,this.mesh.g=o,this.add(this.mesh),this.mesh}},{key:"checkIntersection",value:function(){this.mesh=this.meshes[0];for(var t=this.mesh.geo,e=this.mesh.g,o=0;o<t.length;o+=3)t[o]=1*t[o+3],t[o+1]=1*t[o+4],t[o+2]=1*t[o+5];var n=Math.random();this.getlineLength();var r=Math.random();this.lineLength*=r<.5?-1:1,n>.66?(t[t.length-6]>90&&this.lineLength>0&&(this.lineLength*=-1),t[t.length-6]<-45&&this.lineLength<0&&(this.lineLength*=-1),t[t.length-3]=t[t.length-6]+this.lineLength,t[t.length-2]=t[t.length-5],t[t.length-1]=t[t.length-4]):n>.33?(t[t.length-5]>90&&this.lineLength>0&&(this.lineLength*=-1),t[t.length-5]<-45&&this.lineLength<0&&(this.lineLength*=-1),t[t.length-3]=t[t.length-6],t[t.length-2]=t[t.length-5]+this.lineLength,t[t.length-1]=t[t.length-4]):(t[t.length-4]>90&&this.lineLength>0&&(this.lineLength*=-1),t[t.length-4]<-45&&this.lineLength<0&&(this.lineLength*=-1),t[t.length-3]=t[t.length-6],t[t.length-2]=t[t.length-5],t[t.length-1]=t[t.length-4]+this.lineLength),e.setGeometry(t)}},{key:"getlineLength",value:function(){return this.lineLength=this.data[this.Times][2*this.where+this.inout]/1e7*.3,this.Times+=1,12==this.Times&&(this.Times=0),this.lineLength}},{key:"loadCSVandConvertToArray2D",value:function(){var t=this;_t("../../../../data/kanto_hokkaido.csv",(function(e){var o=function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],null==t)return[];for(var e=[],o=t.split("\n"),n=0;n<o.length;n++)e[n]=o[n].split(",");return e}(e.result);t.doSomething(o)}))}},{key:"doSomething",value:function(t){this.DATAisOK=!0,this.data=t,console.log(this.data[0][0])}},{key:"update",value:function(){if(1==this.DATAisOK)if(this.frame<1800){if(this.frame+=1,this.frame%4==0)for(var t in this.meshes)this.checkIntersection(t)}else this.frame=1801}}])&&Pt(e.prototype,o),n&&Pt(e,n),i}(K.Object3D);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mt(t,e,o){return e&&Rt(t.prototype,e),o&&Rt(t,o),t}function At(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Ut(t);if(e){var r=Ut(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Vt(this,o)}}function Vt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?Gt(t):e}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ut(t){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wt=function(t){At(o,t);var e=zt(o);function o(){var t;return Lt(this,o),(t=e.call(this)).resetCamTargetBool=t.resetCamTargetBool.bind(Gt(t)),t.openCamTargetBool=t.openCamTargetBool.bind(Gt(t)),t.chooseRoom=t.chooseRoom.bind(Gt(t)),t.camera=new Tt,t.baseCamTarget=new K.Vector3(-200,70,400),t.scene0=new Ft,t.add(t.scene0),t.frameBool_skipAnime=!0,t.camTargetBool_openingIsEnd=!1,t.resetCamTargetBool(),t.camTargetBool_BACKSPACE=!1,t.selectVRorNot=!1,t}return Mt(o,[{key:"update",value:function(){1==this.scene0.scene2.openingIsEnd&&(console.log("Opening is end and select VR or not"),this.scene0.scene2.openingIsEnd=!1,this.camTargetBool_openingIsEnd=!0),this.camera.update(),this.scene0.update()}},{key:"onKeyUp",value:function(t){t.keyCode==H&&1==this.frameBool_skipAnime&&this.scene0.scene2.frame<this.scene0.scene2.frameSlide-1&&(this.frameBool_skipAnime=!1,this.camera.frame=this.scene0.scene2.frameSlide-1,this.scene0.scene2.frame=this.scene0.scene2.frameSlide-1,console.log("skip animasion !")),t.keyCode==J&&1==this.camTargetBool_openingIsEnd&&(this.camTargetBool_openingIsEnd=!1,this.camera.camTarget=this.baseCamTarget,this.camera.lookTarget=new K.Vector3(140,70,140),console.log("show 7 panels!"),this.openCamTargetBool()),t.keyCode==q&&this.chooseRoom(this.camTargetBool_A,0,"Go to room_A!"),t.keyCode==X&&this.chooseRoom(this.camTargetBool_B,1,"Go to room_B!"),t.keyCode==Z&&this.chooseRoom(this.camTargetBool_C,3,"Go to room_C!"),t.keyCode==Q&&this.chooseRoom(this.camTargetBool_D,4,"Go to room_D!"),t.keyCode==Y&&this.chooseRoom(this.camTargetBool_E,6,"Go to room_E!"),t.keyCode==$&&this.chooseRoom(this.camTargetBool_F,7,"Go to room_F!"),t.keyCode==tt&&this.chooseRoom(this.camTargetBool_G,9,"Go to room_G!"),t.keyCode==et&&1==this.camTargetBool_BACKSPACE&&(this.camTargetBool_BACKSPACE=!1,this.camera.camTarget=this.baseCamTarget,this.camera.lookTarget=new K.Vector3(140,70,140),console.log("Back to 7 panels!"),this.openCamTargetBool())}},{key:"chooseRoom",value:function(t,e,o){1==t&&(t=!1,this.camera.lookTarget=new K.Vector3(25*(1.5+e),8+15*e,25*(1.5+e)),this.baseCamTarget=new K.Vector3(-200,70,400),this.camera.camTarget.subVectors(this.camera.lookTarget,this.baseCamTarget),this.camera.camTarget.multiplyScalar(.9),this.camera.camTarget.add(this.baseCamTarget),console.log(o),this.resetCamTargetBool())}},{key:"resetCamTargetBool",value:function(){this.camTargetBool_BACKSPACE=!0,this.camTargetBool_A=!1,this.camTargetBool_B=!1,this.camTargetBool_C=!1,this.camTargetBool_D=!1,this.camTargetBool_E=!1,this.camTargetBool_F=!1,this.camTargetBool_G=!1}},{key:"openCamTargetBool",value:function(){this.camTargetBool_BACKSPACE=!1,this.camTargetBool_A=!0,this.camTargetBool_B=!0,this.camTargetBool_C=!0,this.camTargetBool_D=!0,this.camTargetBool_E=!0,this.camTargetBool_F=!0,this.camTargetBool_G=!0}}]),o}(K.Scene),Ft=function(t){At(o,t);var e=zt(o);function o(){var t;return Lt(this,o),(t=e.call(this)).scene1=new Kt,t.add(t.scene1),t.scene2=new Ht,t.add(t.scene2),t}return Mt(o,[{key:"update",value:function(){this.scene1.update(),this.scene2.update()}}]),o}(K.Scene),Kt=function(t){At(o,t);var e=zt(o);function o(){var t;Lt(this,o),(t=e.call(this))._line=[t._line1in,t._line1out];for(var n=0;n<t._line.length/2;n++)for(var r=0;r<2;r++)t._line[2*n+r]=new Bt(n,r),r%2==0?t._line[2*n+r].position.set(0,0,0):t._line[2*n+r].position.set(150,70,150),t.add(t._line[2*n+r]);return t}return Mt(o,[{key:"setup",value:function(){}},{key:"update",value:function(){for(var t=0;t<this._line.length;t++)this._line[t].update()}}]),o}(K.Scene),Ht=function(t){At(o,t);var e=zt(o);function o(){var t;Lt(this,o),(t=e.call(this)).frame=0,t.frameSlide=1260,t.meshList=[],t.meshGroup=new K.Group;var n=new K.MeshBasicMaterial({color:16777215,wireframe:!0,opacity:.95,transparent:!0});t.PlateNum=320,t.positions=[],t.posTarget=[];for(var r=0;r<t.PlateNum;r++)t.floorsize=27,t.geometry=new K.PlaneBufferGeometry(t.floorsize,t.floorsize),t.mesh=new K.Mesh(t.geometry,n),t.mesh.position.set(0,0,0),t.mesh.rotation.x=90*Math.PI/180,t.meshGroup.add(t.mesh),t.meshList.push(t.mesh),t.positions.push(t.mesh.position.x,t.mesh.position.y,t.mesh.position.z),t.posTarget.push(0,0,0);return t.add(t.meshGroup),t.clock=new K.Clock,t.tSpeed=2,t.easeElapsedTime=0,t.eansingBool=!0,t.openingIsEnd=!1,t}return Mt(o,[{key:"update",value:function(){if(this.frame<1800?this.frame+=1:(this.frame=1800,this.eansingBool),1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var t=0;t<this.meshList.length;t++){this.meshList[t].position.x=this.positions[3*t+0],this.meshList[t].position.y=this.positions[3*t+1],this.meshList[t].position.z=this.positions[3*t+2];for(var e=0;e<3;e++){var o=this.positions[3*t+e],n=this.posTarget[3*t+e];this.positions[3*t+e]=o*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var i=0;i<4;i++)r>=80*i&&r<80*(i+1)&&(this.posTarget[3*r+0]=25*i,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(100==this.frame){for(var a=0;a<this.meshList.length;a++)for(var s=0;s<4;s++)if(a>=80*s&&a<80*(s+1))for(var c=0;c<4;c++)a>=80*s+20*c&&a<80*s+20*(c+1)&&(this.posTarget[3*a+0]=25*s,this.posTarget[3*a+1]=0,this.posTarget[3*a+2]=25*c);this.easeElapsedTime=0}if(150==this.frame){for(var h=0;h<this.meshList.length;h++)for(var l=0;l<4;l++)if(h>=80*l&&h<80*(l+1))for(var u=0;u<4;u++)if(h>=80*l+20*u&&h<80*l+20*(u+1))for(var f=0;f<20;f++)h>=80*l+20*u+1*f&&h<80*l+20*u+1*(f+1)&&(this.posTarget[3*h+0]=20*l,this.posTarget[3*h+1]=7*f,this.posTarget[3*h+2]=20*u);this.easeElapsedTime=0,this.tSpeed=3}if(230==this.frame){for(var p=0;p<this.meshList.length;p++)for(var d=0;d<4;d++)if(p>=80*d&&p<80*(d+1))for(var m=0;m<4;m++)if(p>=80*d+20*m&&p<80*d+20*(m+1))for(var g=0;g<10;g++)p>=80*d+20*m+2*g&&p<80*d+20*m+2*(g+1)&&(this.posTarget[3*p+0]=45*m,this.posTarget[3*p+1]=10*g,this.posTarget[3*p+2]=45*d);this.easeElapsedTime=0,this.tSpeed=3}if(310==this.frame){for(var y=0;y<this.meshList.length;y++)for(var b=0;b<4;b++)if(y>=80*b&&y<80*(b+1))for(var v=0;v<4;v++)if(y>=80*b+20*v&&y<80*b+20*(v+1))for(var w=0;w<10;w++)y>=80*b+20*v+2*w&&y<80*b+20*v+2*(w+1)&&(this.posTarget[3*y+0]=45*b,this.posTarget[3*y+1]=0,this.posTarget[3*y+2]=45*v);this.easeElapsedTime=0,this.tSpeed=3}if(360==this.frame){for(var T=0;T<this.meshList.length;T++)for(var C=0;C<4;C++)if(T>=80*C&&T<80*(C+1))for(var _=0;_<4;_++)if(T>=80*C+20*_&&T<80*C+20*(_+1))for(var O=0;O<10;O++)T>=80*C+20*_+2*O&&T<80*C+20*_+2*(O+1)&&(this.posTarget[3*T+0]=30*C,this.posTarget[3*T+1]=0,this.posTarget[3*T+2]=30*_);this.easeElapsedTime=0,this.tSpeed=3}if(410==this.frame){for(var P=0;P<this.meshList.length;P++)for(var k=0;k<8;k++)if(P>=40*k&&P<40*(k+1))for(var E=0;E<8;E++)if(P>=40*k+5*E&&P<40*k+5*(E+1))for(var j=0;j<5;j++)P>=40*k+5*E+1*j&&P<40*k+5*E+1*(j+1)&&(this.posTarget[3*P+0]=15*k,this.posTarget[3*P+1]=0,this.posTarget[3*P+2]=15*E);this.easeElapsedTime=0,this.tSpeed=3}if(460==this.frame&&(this.frame+=320),780==this.frame){for(var S=0;S<this.meshList.length;S++)for(var x=0;x<8;x++)if(S>=40*x&&S<40*(x+1))for(var B=0;B<8;B++)if(S>=40*x+5*B&&S<40*x+5*(B+1))for(var D=0;D<5;D++)S>=40*x+5*B+1*D&&S<40*x+5*B+1*(D+1)&&(this.posTarget[3*S+0]=70*Math.sin(2*S*Math.PI/180)+50,this.posTarget[3*S+1]=25,this.posTarget[3*S+2]=70*Math.cos(2*S*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=5}if(880==this.frame){for(var L=0;L<this.meshList.length;L++)for(var R=0;R<4;R++)if(L>=80*R&&L<80*(R+1))for(var M=0;M<4;M++)if(L>=80*R+20*M&&L<80*R+20*(M+1))for(var A=0;A<10;A++)L>=80*R+20*M+2*A&&L<80*R+20*M+2*(A+1)&&(this.posTarget[3*L+0]=20*M+50,this.posTarget[3*L+1]=1.5*A+25,this.posTarget[3*L+2]=4*R+50);this.easeElapsedTime=0,this.tSpeed=4}if(960==this.frame){for(var I=0;I<this.meshList.length;I++)for(var z=0;z<4;z++)if(I>=80*z&&I<80*(z+1))for(var V=0;V<4;V++)if(I>=80*z+20*V&&I<80*z+20*(V+1))for(var G=0;G<10;G++)I>=80*z+20*V+2*G&&I<80*z+20*V+2*(G+1)&&(this.posTarget[3*I+0]=70*Math.sin(4*I*Math.PI/180)+50,this.posTarget[3*I+1]=70*Math.cos(40*(z+V+G)*Math.PI/180)+25,this.posTarget[3*I+2]=-70*Math.sin(8*I*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=7}if(1080==this.frame){for(var U=0;U<this.meshList.length;U++)for(var W=0;W<4;W++)if(U>=80*W&&U<80*(W+1))for(var F=0;F<4;F++)if(U>=80*W+20*F&&U<80*W+20*(F+1))for(var K=0;K<10;K++)U>=80*W+20*F+2*K&&U<80*W+20*F+2*(K+1)&&(this.posTarget[3*U+0]=25*W,this.posTarget[3*U+1]=0,this.posTarget[3*U+2]=25*F);this.easeElapsedTime=0,this.tSpeed=4}if(1150==this.frame&&(this.frame+=50),1200==this.frame){for(var H=0;H<this.meshList.length;H++)for(var N=0;N<4;N++)if(H>=80*N&&H<80*(N+1))for(var J=0;J<4;J++)if(H>=80*N+20*J&&H<80*N+20*(J+1))for(var q=0;q<20;q++)H>=80*N+20*J+1*q&&H<80*N+20*J+1*(q+1)&&(this.posTarget[3*H+0]=20*N,this.posTarget[3*H+1]=5*q,this.posTarget[3*H+2]=20*J);this.easeElapsedTime=0,this.tSpeed=6}if(this.frame==this.frameSlide){for(var X=0;X<this.meshList.length;X++)for(var Z=0;Z<4;Z++)if(X>=80*Z&&X<80*(Z+1))for(var Q=0;Q<4;Q++)if(X>=80*Z+20*Q&&X<80*Z+20*(Q+1))for(var Y=0;Y<10;Y++)X>=80*Z+20*Q+2*Y&&X<80*Z+20*Q+2*(Y+1)&&(this.posTarget[3*X+0]=25*(Z+Y),this.posTarget[3*X+1]=15*Y,this.posTarget[3*X+2]=25*(Q+Y));this.easeElapsedTime=0,this.tSpeed=6}1370==this.frame&&0==this.openingIsEnd&&(this.openingIsEnd=!0)}}]),o}(K.Scene);function Nt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Jt(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(o),!0).forEach((function(e){qt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Nt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function qt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Xt=Jt(Jt({},F),{},{props:{instance:null},init:function(){return this.props.instance=new pt(new Wt),this},setup:function(){},update:function(){this.props.instance.update()},draw:function(){this.props.instance.draw()},destroy:function(){},onKeyUp:function(t){this.props.instance.onKeyUp(t)}}),Zt=o(22),Qt=o(4),Yt={a:{categoryId:"A",categoryEn:"Architecture, Software",categoryJp:"アーキテクチャ・ソフトウェア",copy:"うごかすちから",imgPath:["./img/A01-sinetstream.png","./img/A02.png","./img/A03.png","./img/A04.png","./img/A05.png","./img/A06.png","./img/A07.png","./img/A08.png","./img/A00.png","./img/A10.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から<br>解析まで","双方向化技術による<br>データベーススキーマの共存","サイエンスによる知的<br>ものづくり教育プログラム","プログラミング講義向け<br>Jupyter Notebook環境","Notebookで賢く運用！<br>NIIの研究クラウド","再構成可能デバイスを<br>使いやすくする研究","漸進的型付け: <br>安全性と柔軟性を<br>両立するプログラミング言語","不具合局所化のための<br>プログラムスペクトルの<br>可視化ならびに分析","経路計画機能の<br>テスト・設定調整の<br>自動探索","適切な「ぼかし」で、<br>ソフトウェアの<br>複雑さに挑む"]},b:{categoryId:"B",categoryEn:"Computation, Logic, <br> Quantum information",categoryJp:"数理・論理・量子情報",copy:"考え方をかんがえる",imgPath:["./img/B01.png","./img/B02.png","./img/B03.png","./img/B04.png","./img/B05.png","./img/B06.png","./img/B07.png","./img/B08.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を<br>両立するプログラミング言語","不具合局所化のための<br>プログラムスペクトルの可視化ならびに分析"]},c:{categoryId:"C",categoryEn:"Artificial intelligence",categoryJp:"人工知能",copy:"計算機に思考させる",imgPath:["./img/C01.png","./img/C02.png","./img/C03.png","./img/C04.png","./img/C05.png","./img/C06.png","./img/C07.png","./img/C08.png","./img/C09.png","./img/C10.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を<br>両立するプログラミング言語","不具合局所化のための<br>プログラムスペクトルの可視化ならびに分析","理論計算機科学入門：<br>有限と無限のあいだ ~ オートマトン理論を例に","視聴覚クロスモーダル検索の<br>ための共同埋め込みの学習"]},d:{categoryId:"D",categoryEn:"Visual, audio, media",categoryJp:"映像・音・メディア",copy:"みる・きく・はなす・さがす",imgPath:["./img/D01.png","./img/D02.png","./img/D03.png","./img/D04.png","./img/D05.png","./img/D06.png","./img/D07.png","./img/D08.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を<br>両立するプログラミング言語","不具合局所化のための<br>プログラムスペクトルの可視化ならびに分析"]},e:{categoryId:"E",categoryEn:"Network, security",categoryJp:"ネットワーク・セキュリティ",copy:"安心につながる",imgPath:["./img/E01.png","./img/E02.png","./img/E03.png","./img/E04.png","./img/E05.png","./img/E06.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究"]},f:{categoryId:"F",categoryEn:"Society and information",categoryJp:"社会と情報",copy:"サイバー世界と<br>フィジカル世界の融合",imgPath:["./img/F01.png","./img/F02.png","./img/F03.png","./img/F04.png","./img/F05.png","./img/F06.png","./img/F07.png","./img/F08.png","./img/F09.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境","Notebookで賢く運用！NIIの研究クラウド","再構成可能デバイスを使いやすくする研究","漸進的型付け: 安全性と柔軟性を<br>両立するプログラミング言語","不具合局所化のための<br>プログラムスペクトルの可視化ならびに分析","理論計算機科学入門：<br>有限と無限のあいだ ~ オートマトン理論を例に"]},s:{categoryId:"特別展示",categoryEn:"Special Exhibition",categoryJp:"サービス・事業含む",copy:"",imgPath:["./img/S01.png","./img/S02.png","./img/S03.png","./img/S04.png"],posterTitle:["ネットワークとクラウドを<br>活用してデータ収集から解析まで","双方向化技術によるデータベーススキーマの共存","サイエンスによる知的ものづくり教育プログラム","プログラミング講義向けJupyter Notebook環境"]}};function $t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var te=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.posterData=Yt,this.currentCategory=null,this.categoryId=e,this.id=o,this.imgTexture=null,this.canvasTexture=null,this.boardWidth=80,this.boardHeight=45,this.fontSize=6,this.categories=Yt.categories}var e,o,n;return e=t,(o=[{key:"setup",value:function(){switch(this.categoryId){case"a":this.currentCategory=this.posterData.a;break;case"b":this.currentCategory=this.posterData.b;break;case"c":this.currentCategory=this.posterData.c;break;case"d":this.currentCategory=this.posterData.d;break;case"e":this.currentCategory=this.posterData.e;break;case"f":this.currentCategory=this.posterData.f;break;default:this.currentCategory=this.posterData.s}}},{key:"loadTexture",value:function(){var t=new K.TextureLoader;return this.imgTexture=t.load(this.currentCategory.imgPath[this.id]),this.imgTexture}},{key:"createLabel",value:function(){var t=this.currentCategory.posterTitle[this.id],e=document.createElement("canvas");e.width=8*this.boardWidth,e.height=8*this.boardHeight;var o=e.getContext("2d");o.scale(8,8),o.font=this.fontSize+"px Arial, meiryo, sans-serif",o.fillStyle="rgba(255,255,255,1)";var n=t.split("<br>"),r=1.4*o.measureText("あ").width;return n.forEach((function(t,e){o.fillText(t,0,10+r*e)})),this.canvasTexture=new K.Texture(e),this.canvasTexture.needsUpdate=!0,this.canvasTexture}},{key:"createCategory",value:function(t){var e=[];return this.posterData.forIn((function(t,o,n){console.log(o.categoryId),e[n]={},e[n].cateroryId=o.categoryId,e[n].categoryEn=o.categoryEn,e[n].categoryJp=o.categoryJp,e[n].copy=o.copy})),e}}])&&$t(e.prototype,o),n&&$t(e,n),t}();function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=ie(t);if(e){var r=ie(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return re(this,o)}}function re(t,e){return!e||"object"!==ee(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(o,t);var e=ne(o);function o(t,n){var r;return ae(this,o),(r=e.call(this,t,n)).imageGeometry=new K.PlaneGeometry(r.boardWidth,r.boardHeight),r.imageMaterial=new K.MeshBasicMaterial({color:16777215,map:r.texture.image,transparent:!0,opacity:0}),r.imageShape=new K.Mesh(r.imageGeometry,r.imageMaterial),r.group.add(r.imageShape),r.labelGeometry=new K.PlaneGeometry(r.boardWidth,r.boardHeight),r.labelMaterial=new K.MeshBasicMaterial({map:r.texture.label,transparent:!0,opacity:0}),r.labelShape=new K.Mesh(r.labelGeometry,r.labelMaterial),r.labelShape.position.y=-45,r.group.add(r.labelShape),r.wireGeometry=new K.WireframeGeometry(r.imageGeometry),r.wireMaterial=new K.LineBasicMaterial({color:16777215,transparent:!0,opacity:0}),r.wireShape=new K.LineSegments(r.wireGeometry,r.wireMaterial),r.group.add(r.wireShape),r}return o}(function(){function t(e,o){ae(this,t),this.texture=o||{},this.scene=e,this.boardWidth=80,this.boardHeight=45,this.imageGeometry,this.imageMaterial,this.imageShape=null,this.imagePosition=new K.Vector3,this.labelGeometry,this.labelMaterial,this.labelShape=null,this.labelPosition=new K.Vector3,this.wireGeometry,this.wireMaterial,this.wireShape=null,this.group=new K.Object3D,this.position=new K.Vector3}var e,o,n;return e=t,(o=[{key:"setup",value:function(){return this.scene.add(this.group),this}},{key:"update",value:function(){null!=this.group&&this.draw()}},{key:"draw",value:function(){}},{key:"destroy",value:function(){this.scene.remove(this.group)}},{key:"getScene",value:function(){return this.scene}}])&&se(e.prototype,o),n&&se(e,n),t}());function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ue=function(){function t(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;he(this,t),this.id=n,this.scene=e.getScene(),this.view=e,this.model=o,this.addEvent()}var e,o,n;return e=t,(o=[{key:"update",value:function(){this.view.update()}},{key:"shapeChange",value:function(){}},{key:"addEvent",value:function(){}}])&&le(e.prototype,o),n&&le(e,n),t}();function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var pe=function t(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;fe(this,t),this.id=n,this.scene=e,this.model=new te(o,this.id),this.model.setup();var r={image:this.model.loadTexture(),label:this.model.createLabel()};this.view=new ce(this.scene,r).setup(),this.controller=new ue(this.view,this.model,this.id)};function de(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var me=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stage=e,this.categoryData=o}var e,o,n;return e=t,(o=[{key:"setup",value:function(){var t=this;this.categoryWrapper=this.createDomElement("div","category-wrapper"),this.stage.appendChild(this.categoryWrapper);var e=document.createElement("ul");this.categoryWrapper.appendChild(e);for(var o=[],n=0;n<this.categoryData.length;n++){o[n]=document.createElement("li"),e.appendChild(o[n]);var r=this.createDomElement("div","category-container cat"+n);o[n].appendChild(r);var i=this.createDomElement("div","caterory-label",this.categoryData[n].categoryId);r.appendChild(i);var a=this.createDomElement("div","categoryEn",this.categoryData[n].categoryEn);r.appendChild(a);var s=this.createDomElement("div","categoryJp",this.categoryData[n].categoryJp);r.appendChild(s);var c=this.createDomElement("div","categoryCopy",this.categoryData[n].copy);r.appendChild(c)}setTimeout((function(){t.categoryWrapper.classList.add("fadein")}),1e3)}},{key:"update",value:function(){this.draw()}},{key:"draw",value:function(){}},{key:"destroy",value:function(){var t=this;this.categoryWrapper.classList.remove("fadein"),setTimeout((function(){t.stage.removeChild(t.categoryWrapper)}),1e3)}},{key:"getScene",value:function(){return this}},{key:"createDomElement",value:function(t,e,o){var n=document.createElement(t);if(o){n.setAttribute("class",e);var r=document.createTextNode(o);n.appendChild(r)}else n.setAttribute("class",e);return n}}])&&de(e.prototype,o),n&&de(e,n),t}();var ge=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stage=e,this.categoryId=null,this.id=null,this.model=new te(this.categoryId,this.id),this.model.setup();var o=this.model.createCategory();this.view=new me(this.stage,o),this.view.setup()};function ye(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var be=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,o,n;return e=t,(o=[{key:"init",value:function(){this.setup(),this.createScene(),this.createCamera(),this.addOrbitControls(),this.addAmbientLight(),this.addDirectionalLight(),this.addCategory()}},{key:"setup",value:function(){this.backgroundColor="#000000",this.width=window.innerWidth,this.height=window.innerHeight,this.mouse3D=new K.Vector2,this.meshList=[],this.raycaster=new K.Raycaster,this.rayReceiveObjects=[],this.posterData=Yt.a,this.boardLength=this.posterData.imgPath.length,this.boardPosRadius=150,this.boardAngle=180/this.boardLength,this.halfAngle=180+this.boardAngle}},{key:"draw",value:function(){this.raycaster.setFromCamera(this.mouse3D,this.camera);var t=this.raycaster.intersectObjects(this.rayReceiveObjects);this.rayReceiveObjects.map((function(e){t.length>0&&e===t[0].object?e.material.color.setHex(16777215):e.material.color.setHex(2236962)})),this.controls.update(),Qt.a.update(),this.renderer.render(this.scene,this.camera)}},{key:"onMouseMove",value:function(t){var e=t.clientX,o=t.clientY;this.mouse3D.x=e/this.width*2-1,this.mouse3D.y=-o/this.height*2+1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}},{key:"onClick",value:function(t){var e=this.raycaster.intersectObjects(this.rayReceiveObjects);if(e.length>0){var o=e[0].object.name;console.dir(o),document.dispatchEvent(new CustomEvent(s,{detail:{message:"Please show me a detail!"}}))}}},{key:"addCategory",value:function(){var t=document.getElementById("gallery_stage");this.category=new ge(t)}},{key:"addBorad",value:function(){for(var t=new K.Vector3(0,30,0),e=new K.Vector3(0,-50,0),o=0;o<this.boardLength;o++){this.board=new pe(this.scene,"a",o);var n=void 0;o%2==0?(this.board.view.group.position.y=40,n=t):(this.board.view.group.position.y=-50,n=e),this.board.view.group.position.set(this.boardPosRadius*Math.cos(K.Math.degToRad(o*this.boardAngle+this.halfAngle)),this.board.view.group.position.y,this.boardPosRadius*Math.sin(K.Math.degToRad(o*this.boardAngle+this.halfAngle))),this.board.view.group.lookAt(n),this.meshList.push(this.board),this.meshList[o].view.imageShape.name="poster"+o,this.rayReceiveObjects.push(this.meshList[o].view.imageShape)}this.setBoardAnime()}},{key:"setBoardAnime",value:function(){for(var t=this,e=function(e){var o={x:t.meshList[e].view.group.position.x,y:t.meshList[e].view.group.position.y-100,z:t.meshList[e].view.group.position.z,alpha:t.meshList[e].view.imageMaterial.opacity},n={x:o.x,y:t.meshList[e].view.group.position.y,z:o.z,alpha:1},r=new Qt.a.Tween(o).to(n,500).easing(Qt.a.Easing.Cubic.InOut).onUpdate((function(){t.meshList[e].view.group.position.x=o.x,t.meshList[e].view.group.position.y=o.y,t.meshList[e].view.group.position.z=o.z,t.meshList[e].view.labelMaterial.opacity=i.alpha,t.meshList[e].view.imageMaterial.opacity=i.alpha,t.meshList[e].view.wireMaterial.opacity=o.alpha})).delay(1e3+50*e).start(),i={alphaA:0,alphaB:1},a={alphaA:1,alphaB:0},s=new Qt.a.Tween(i).to(a,300).easing(Qt.a.Easing.Cubic.InOut).onUpdate((function(){t.meshList[e].view.imageMaterial.opacity=i.alphaA,t.meshList[e].view.labelMaterial.opacity=i.alphaA})).delay(1e3+10*e);r.chain(s),new Qt.a.Tween(i).to(a,300).easing(Qt.a.Easing.Cubic.InOut).onUpdate((function(){t.meshList[e].view.wireMaterial.opacity=i.alphaB})).delay(3e3+20*e).start()},o=0;o<this.boardLength;o++)e(o)}},{key:"removeBoard",value:function(){}},{key:"createScene",value:function(){this.scene=new K.Scene,this.renderer=new K.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(this.backgroundColor),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=K.PCFSoftShadowMap,this.renderer.autoClear=!1,document.getElementById(b).appendChild(this.renderer.domElement)}},{key:"createCamera",value:function(){this.camera=new K.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1),this.camera.position.set(0,80,150),this.camera.lookAt(new K.Vector3(0,50,-80)),this.scene.add(this.camera)}},{key:"addOrbitControls",value:function(){this.controls=new Zt.a(this.camera,this.renderer.domElement),this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.enableZoom=!0,this.zoomSpeed=1,this.controls.enablePan=!0}},{key:"addAmbientLight",value:function(){var t=new K.AmbientLight(4210752,1);this.scene.add(t)}},{key:"addDirectionalLight",value:function(){var t=new K.DirectionalLight(16777215,1);t.position.set(0,300,30),this.scene.add(t)}}])&&ye(e.prototype,o),n&&ye(e,n),t}();function ve(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function we(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(o),!0).forEach((function(e){Te(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ve(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Te(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Ce=we(we({},F),{},{props:{instance:null},init:function(){return this.props.instance=new be,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(t){this.props.instance.onMouseMove(t)},onClick:function(t){this.props.instance.onClick(t)}}),_e=o(23),Oe=function(t){K.Object3D.call(this),this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",(function(){this.traverse((function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)}))}))};(Oe.prototype=Object.create(K.Object3D.prototype)).constructor=Oe;var Pe=function(t){Oe.call(this,t)};(Pe.prototype=Object.create(Oe.prototype)).constructor=Pe;var ke=function(){var t,e,o,n,r=new K.Matrix4,i={camera:{fov:0,style:""},objects:new WeakMap},a=document.createElement("div");a.style.overflow="hidden",this.domElement=a;var s=document.createElement("div");s.style.WebkitTransformStyle="preserve-3d",s.style.transformStyle="preserve-3d",s.style.pointerEvents="none",a.appendChild(s);var c=/Trident/i.test(navigator.userAgent);function h(t){return Math.abs(t)<1e-10?0:t}function l(t){var e=t.elements;return"matrix3d("+h(e[0])+","+h(-e[1])+","+h(e[2])+","+h(e[3])+","+h(e[4])+","+h(-e[5])+","+h(e[6])+","+h(e[7])+","+h(e[8])+","+h(-e[9])+","+h(e[10])+","+h(e[11])+","+h(e[12])+","+h(-e[13])+","+h(e[14])+","+h(e[15])+")"}function u(t,e){var r=t.elements,i="matrix3d("+h(r[0])+","+h(r[1])+","+h(r[2])+","+h(r[3])+","+h(-r[4])+","+h(-r[5])+","+h(-r[6])+","+h(-r[7])+","+h(r[8])+","+h(r[9])+","+h(r[10])+","+h(r[11])+","+h(r[12])+","+h(r[13])+","+h(r[14])+","+h(r[15])+")";return c?"translate(-50%,-50%)translate("+o+"px,"+n+"px)"+e+i:"translate(-50%,-50%)"+i}this.getSize=function(){return{width:t,height:e}},this.setSize=function(r,i){o=(t=r)/2,n=(e=i)/2,a.style.width=r+"px",a.style.height=i+"px",s.style.width=r+"px",s.style.height=i+"px"};var f,p,d=(f=new K.Vector3,p=new K.Vector3,function(t,e){return f.setFromMatrixPosition(t.matrixWorld),p.setFromMatrixPosition(e.matrixWorld),f.distanceToSquared(p)});function m(t){for(var e=function(t){var e=[];return t.traverse((function(t){t instanceof Oe&&e.push(t)})),e}(t).sort((function(t,e){return i.objects.get(t).distanceToCameraSquared-i.objects.get(e).distanceToCameraSquared})),o=e.length,n=0,r=e.length;n<r;n++)e[n].element.style.zIndex=o-n}this.render=function(t,e){var f=e.projectionMatrix.elements[5]*n;if(i.camera.fov!==f&&(e.isPerspectiveCamera?(a.style.WebkitPerspective=f+"px",a.style.perspective=f+"px"):(a.style.WebkitPerspective="",a.style.perspective=""),i.camera.fov=f),!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.isOrthographicCamera)var p=-(e.right+e.left)/2,g=(e.top+e.bottom)/2;var y=e.isOrthographicCamera?"scale("+f+")translate("+h(p)+"px,"+h(g)+"px)"+l(e.matrixWorldInverse):"translateZ("+f+"px)"+l(e.matrixWorldInverse),b=y+"translate("+o+"px,"+n+"px)";i.camera.style===b||c||(s.style.WebkitTransform=b,s.style.transform=b,i.camera.style=b),function t(e,o,n){if(e instanceof Oe){var a;e instanceof Pe?(r.copy(o.matrixWorldInverse),r.transpose(),r.copyPosition(e.matrixWorld),r.scale(e.scale),r.elements[3]=0,r.elements[7]=0,r.elements[11]=0,r.elements[15]=1,a=u(r,n)):a=u(e.matrixWorld,n);var h=e.element,l=i.objects.get(e);if(void 0===l||l.style!==a){h.style.WebkitTransform=a,h.style.transform=a;var f={style:a};c&&(f.distanceToCameraSquared=d(o,e)),i.objects.set(e,f)}h.parentNode!==s&&s.appendChild(h)}for(var p=0,m=e.children.length;p<m;p++)t(e.children[p],o,n)}(t,e,y),c&&m(t)}};var Ee=function t(e,o,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=document.createElement("div");a.style.width="800px",a.style.height="450px";var s=document.createElement("iframe");s.style.width="800px",s.style.height="450px",s.style.border="0px",s.src=e,a.appendChild(s);var c=new Oe(a);return c.position.set(o,n,r),c.rotation.y=i,c};var je=window.pdfjsLib,Se=function t(e,o,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.room_id="a07";var i=document.createElement("canvas");i.width=800,i.height=500;var a=i.getContext("2d");je.getDocument("./pdf/".concat(this.room_id,".pdf")).promise.then((function(t){var e;e=1,t.getPage(e).then((function(t){var e=t.getViewport({scale:800/720}),o={canvasContext:a,viewport:e};t.render(o).promise.then((function(){console.log("Page rendered")}))}))}));var s=new Oe(i);return s.position.set(e,o,n),s.rotation.y=r,s};function xe(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Be(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(o),!0).forEach((function(e){De(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):xe(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function De(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Le={props:{isEnable:!1},init:function(){var t=this.props,e=t.camera,o=t.scene,n=t.renderer,r=t.controls,i=document.getElementById(w);(e=new K.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,5e3)).position.set(0,0,2e3),o=new K.Scene,(n=new ke).setSize(window.innerWidth,window.innerHeight),i.appendChild(n.domElement);var a=new K.Group;a.add(new Se(0,300,450,0)),a.add(new Ee("https://www.youtube.com/embed/G9AtkiCESAg",1e3,0,0,-Math.PI/8)),a.add(new Ee("https://www.youtube.com/embed/9PVjlAm-A1A",-1e3,0,0,Math.PI/8)),a.add(new Ee("https://salty-waters-60310.herokuapp.com/a07",0,-300,450,0)),o.add(a),(r=new _e.a(e,n.domElement)).rotateSpeed=4;var s=document.getElementById(T);s.style.display="none",r.addEventListener("start",(function(){s.style.display=""})),r.addEventListener("end",(function(){s.style.display="none"})),this.props=Be(Be({},this.props),{camera:e,scene:o,renderer:n,controls:r}),this.addEvent()},draw:function(){var t=this.props,e=t.controls,o=t.renderer,n=t.scene,r=t.camera;e.update(),o.render(n,r)},onResize:function(){var t=this.props,e=(t.controls,t.renderer),o=(t.scene,t.camera);o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)},onKeyUp:function(t){t.keyCode===i&&this.hide()},addEvent:function(){var t=this;document.addEventListener(s,(function(e){return t.show()}))},show:function(){var t=document.getElementById(v),e=document.getElementById(y);this.props.isEnable=!0,t.style.visibility="visible",e.style.visibility="hidden"},hide:function(){var t=document.getElementById(v),e=document.getElementById(y);this.props.isEnable=!1,t.style.visibility="hidden",e.style.visibility="visible"}};function Re(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Me(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(o),!0).forEach((function(e){Ae(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Re(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Ae(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}Me(Me({},F),{},{props:{instance:null},init:function(){return this.props.instance=Le,this.props.instance.init(),this},setup:function(){},update:function(){},draw:function(){this.props.instance.draw()},destroy:function(){},onResize:function(){this.props.instance.onResize()},onKeyUp:function(t){this.props.instance.onKeyUp(t)}});function Ie(t){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ge(t,e,o){return e&&Ve(t.prototype,e),o&&Ve(t,o),t}function Ue(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&We(t,e)}function We(t,e){return(We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Ne(t);if(e){var r=Ne(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Ke(this,o)}}function Ke(t,e){return!e||"object"!==Ie(e)&&"function"!=typeof e?He(t):e}function He(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(t){Ue(o,t);var e=Fe(o);function o(){var t;return ze(this,o),(t=e.call(this)).frame=1200,t.resetCamTargetBool=t.resetCamTargetBool.bind(He(t)),t.openCamTargetBool=t.openCamTargetBool.bind(He(t)),t.chooseRoom=t.chooseRoom.bind(He(t)),t.baseCamTarget=new K.Vector3(-270,-55,-350),t.baseCamTargetPlus=new K.Vector3(270,55,350),t.camPos=new K.Vector3(0,-100,-240),t.camTarget=new K.Vector3(-140,0,-140),t.keyBool_startVRanime=!0,t.updateBool=!1,t.resetCamTargetBool(),t.camTargetBool_BACKSPACE=!1,t.show7panels=!1,t}return Ge(o,[{key:"setup",value:function(){}},{key:"update",value:function(){1==this.updateBool&&(this.frame+=1,this.camPos.x+=.01*(this.camTarget.x-this.camPos.x),this.camPos.y+=.01*(this.camTarget.y-this.camPos.y),this.camPos.z+=.01*(this.camTarget.z-this.camPos.z),this.scene0.position.set(this.camPos.x,this.camPos.y,this.camPos.z),350==this.frame&&(this.camTarget=new K.Vector3(-150,-100,-50)),700==this.frame&&(this.camTarget=new K.Vector3(-50,-25,-50)),1100==this.frame&&(this.camTarget=new K.Vector3(70,-80,-200)),this.scene0.rotation.y=45*Math.PI/180,this.scene0.update(),1==this.scene0.scene2.openingIsEnd&&(console.log("show 7 panels!"),this.camTarget=this.baseCamTarget,this.openCamTargetBool(),this.scene0.scene2.openingIsEnd=!1))}},{key:"onKeyUp",value:function(t){t.keyCode==N&&1==this.keyBool_startVRanime&&(this.keyBool_startVRanime=!1,this.scene0=new qe,this.add(this.scene0),this.updateBool=!0,console.log("start VR anime!")),t.keyCode==q&&this.chooseRoom(this.camTargetBool_A,0,"Go to room_A!"),t.keyCode==X&&this.chooseRoom(this.camTargetBool_B,1,"Go to room_B!"),t.keyCode==Z&&this.chooseRoom(this.camTargetBool_C,3,"Go to room_C!"),t.keyCode==Q&&this.chooseRoom(this.camTargetBool_D,4,"Go to room_D!"),t.keyCode==Y&&this.chooseRoom(this.camTargetBool_E,6,"Go to room_E!"),t.keyCode==$&&this.chooseRoom(this.camTargetBool_F,7,"Go to room_F!"),t.keyCode==tt&&this.chooseRoom(this.camTargetBool_G,9,"Go to room_G!"),t.keyCode==et&&1==this.camTargetBool_BACKSPACE&&(this.camTargetBool_BACKSPACE=!1,this.baseCamTarget=new K.Vector3(-270,-55,-350),this.camTarget=this.baseCamTarget,console.log("Please back to 7 panels!"),this.openCamTargetBool())}},{key:"chooseRoom",value:function(t,e,o){1==t&&(t=!1,this.lookTarget=new K.Vector3(35.25*(1.5+e),8+15*e,0*(1.5+e)),this.camTarget.subVectors(this.lookTarget,this.baseCamTargetPlus),this.camTarget.multiplyScalar(.95),this.camTarget.add(this.baseCamTargetPlus),this.camTarget.multiplyScalar(-1),console.log(o),this.resetCamTargetBool())}},{key:"resetCamTargetBool",value:function(){this.camTargetBool_BACKSPACE=!0,this.camTargetBool_A=!1,this.camTargetBool_B=!1,this.camTargetBool_C=!1,this.camTargetBool_D=!1,this.camTargetBool_E=!1,this.camTargetBool_F=!1,this.camTargetBool_G=!1}},{key:"openCamTargetBool",value:function(){this.camTargetBool_BACKSPACE=!1,this.camTargetBool_A=!0,this.camTargetBool_B=!0,this.camTargetBool_C=!0,this.camTargetBool_D=!0,this.camTargetBool_E=!0,this.camTargetBool_F=!0,this.camTargetBool_G=!0}}]),o}(K.Scene),qe=function(t){Ue(o,t);var e=Fe(o);function o(){var t;return ze(this,o),(t=e.call(this)).scene1=new Xe,t.add(t.scene1),t.scene2=new Ze,t.add(t.scene2),t}return Ge(o,[{key:"update",value:function(){this.scene1.update(),this.scene2.update()}}]),o}(K.Scene),Xe=function(t){Ue(o,t);var e=Fe(o);function o(){var t;ze(this,o),(t=e.call(this))._line=[t._line1in,t._line1out];for(var n=0;n<t._line.length/2;n++)for(var r=0;r<2;r++)t._line[2*n+r]=new Bt(n,r),r%2==0?t._line[2*n+r].position.set(0,0,0):t._line[2*n+r].position.set(150,70,150),t.add(t._line[2*n+r]);return t}return Ge(o,[{key:"update",value:function(){for(var t=0;t<this._line.length;t++)this._line[t].update()}}]),o}(K.Scene),Ze=function(t){Ue(o,t);var e=Fe(o);function o(){var t;ze(this,o),(t=e.call(this)).frame=1200,t.meshList=[],t.meshGroup=new K.Group;var n=new K.MeshBasicMaterial({color:13092807,wireframe:!0,opacity:.9,transparent:!0});t.PlateNum=320,t.positions=[],t.posTarget=[];for(var r=0;r<t.PlateNum;r++)t.floorsize=27,t.geometry=new K.PlaneBufferGeometry(t.floorsize,t.floorsize),t.mesh=new K.Mesh(t.geometry,n),t.mesh.position.set(0,0,0),t.mesh.rotation.x=90*Math.PI/180,t.meshGroup.add(t.mesh),t.meshList.push(t.mesh),t.positions.push(t.mesh.position.x,t.mesh.position.y,t.mesh.position.z),t.posTarget.push(0,0,0);return t.clock=new K.Clock,t.tSpeed=2,t.easeElapsedTime=0,t.eansingBool=!0,t.add(t.meshGroup),t.openingIsEnd=!1,t}return Ge(o,[{key:"update",value:function(){if(this.frame+=1,1==this.eansingBool){this.easeElapsedTime+=this.clock.getDelta(),this.t=this.easeElapsedTime/this.tSpeed,this.t>1&&(this.t=1),this.rate=this.t*this.t*(3-2*this.t);for(var t=0;t<this.meshList.length;t++){this.meshList[t].position.x=this.positions[3*t+0],this.meshList[t].position.y=this.positions[3*t+1],this.meshList[t].position.z=this.positions[3*t+2];for(var e=0;e<3;e++){var o=this.positions[3*t+e],n=this.posTarget[3*t+e];this.positions[3*t+e]=o*(1-this.rate)+n*this.rate}}}if(50==this.frame){for(var r=0;r<this.meshList.length;r++)for(var i=0;i<4;i++)r>=80*i&&r<80*(i+1)&&(this.posTarget[3*r+0]=25*i,this.posTarget[3*r+1]=0,this.posTarget[3*r+2]=0);this.easeElapsedTime=0,this.tSpeed=3}if(110==this.frame){for(var a=0;a<this.meshList.length;a++)for(var s=0;s<4;s++)if(a>=80*s&&a<80*(s+1))for(var c=0;c<4;c++)a>=80*s+20*c&&a<80*s+20*(c+1)&&(this.posTarget[3*a+0]=25*s,this.posTarget[3*a+1]=0,this.posTarget[3*a+2]=25*c);this.easeElapsedTime=0}if(170==this.frame){for(var h=0;h<this.meshList.length;h++)for(var l=0;l<4;l++)if(h>=80*l&&h<80*(l+1))for(var u=0;u<4;u++)if(h>=80*l+20*u&&h<80*l+20*(u+1))for(var f=0;f<20;f++)h>=80*l+20*u+1*f&&h<80*l+20*u+1*(f+1)&&(this.posTarget[3*h+0]=25*l,this.posTarget[3*h+1]=7*f,this.posTarget[3*h+2]=25*u);this.easeElapsedTime=0,this.tSpeed=4}if(280==this.frame){for(var p=0;p<this.meshList.length;p++)for(var d=0;d<4;d++)if(p>=80*d&&p<80*(d+1))for(var m=0;m<4;m++)if(p>=80*d+20*m&&p<80*d+20*(m+1))for(var g=0;g<10;g++)p>=80*d+20*m+2*g&&p<80*d+20*m+2*(g+1)&&(this.posTarget[3*p+0]=45*m,this.posTarget[3*p+1]=10*g,this.posTarget[3*p+2]=45*d);this.easeElapsedTime=0,this.tSpeed=4}if(430==this.frame){for(var y=0;y<this.meshList.length;y++)for(var b=0;b<4;b++)if(y>=80*b&&y<80*(b+1))for(var v=0;v<4;v++)if(y>=80*b+20*v&&y<80*b+20*(v+1))for(var w=0;w<10;w++)y>=80*b+20*v+2*w&&y<80*b+20*v+2*(w+1)&&(this.posTarget[3*y+0]=45*b,this.posTarget[3*y+1]=0,this.posTarget[3*y+2]=45*v);this.easeElapsedTime=0,this.tSpeed=7}if(490==this.frame){for(var T=0;T<this.meshList.length;T++)for(var C=0;C<4;C++)if(T>=80*C&&T<80*(C+1))for(var _=0;_<4;_++)if(T>=80*C+20*_&&T<80*C+20*(_+1))for(var O=0;O<10;O++)T>=80*C+20*_+2*O&&T<80*C+20*_+2*(O+1)&&(this.posTarget[3*T+0]=30*C,this.posTarget[3*T+1]=0,this.posTarget[3*T+2]=30*_);this.easeElapsedTime=0,this.tSpeed=4}if(550==this.frame){for(var P=0;P<this.meshList.length;P++)for(var k=0;k<8;k++)if(P>=40*k&&P<40*(k+1))for(var E=0;E<8;E++)if(P>=40*k+5*E&&P<40*k+5*(E+1))for(var j=0;j<5;j++)P>=40*k+5*E+1*j&&P<40*k+5*E+1*(j+1)&&(this.posTarget[3*P+0]=15*k,this.posTarget[3*P+1]=0,this.posTarget[3*P+2]=15*E);this.easeElapsedTime=0,this.tSpeed=4}if(600==this.frame){for(var S=0;S<this.meshList.length;S++)for(var x=0;x<8;x++)if(S>=40*x&&S<40*(x+1))for(var B=0;B<8;B++)if(S>=40*x+5*B&&S<40*x+5*(B+1))for(var D=0;D<5;D++)S>=40*x+5*B+1*D&&S<40*x+5*B+1*(D+1)&&(this.posTarget[3*S+0]=20*x,this.posTarget[3*S+1]=30*Math.sin((30*(x+B)+2*(this.frame+60))*Math.PI/180),this.posTarget[3*S+2]=20*B);this.easeElapsedTime=0}if(660==this.frame&&(this.eansingBool=!1),this.frame>=660&&this.frame<780){for(var L=0;L<this.meshList.length;L++)this.meshList[L].position.x=this.positions[3*L+0],this.meshList[L].position.y=this.positions[3*L+1],this.meshList[L].position.z=this.positions[3*L+2];for(var R=0;R<this.meshList.length;R++)for(var M=0;M<8;M++)if(R>=40*M&&R<40*(M+1))for(var A=0;A<8;A++)if(R>=40*M+5*A&&R<40*M+5*(A+1))for(var I=0;I<5;I++)R>=40*M+5*A+1*I&&R<40*M+5*A+1*(I+1)&&(this.positions[3*R+0]=20*M,this.positions[3*R+1]=30*Math.sin((30*(M+A)+2*this.frame)*Math.PI/180),this.positions[3*R+2]=20*A)}if(780==this.frame&&(this.eansingBool=!0),780==this.frame){for(var z=0;z<this.meshList.length;z++)for(var V=0;V<8;V++)if(z>=40*V&&z<40*(V+1))for(var G=0;G<8;G++)if(z>=40*V+5*G&&z<40*V+5*(G+1))for(var U=0;U<5;U++)z>=40*V+5*G+1*U&&z<40*V+5*G+1*(U+1)&&(this.posTarget[3*z+0]=80*Math.sin(2*z*Math.PI/180)+50,this.posTarget[3*z+1]=25,this.posTarget[3*z+2]=80*Math.cos(2*z*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=30}if(900==this.frame){for(var W=0;W<this.meshList.length;W++)for(var F=0;F<4;F++)if(W>=80*F&&W<80*(F+1))for(var K=0;K<4;K++)if(W>=80*F+20*K&&W<80*F+20*(K+1))for(var H=0;H<10;H++)W>=80*F+20*K+2*H&&W<80*F+20*K+2*(H+1)&&(this.posTarget[3*W+0]=4*K+50,this.posTarget[3*W+1]=1.5*H+25,this.posTarget[3*W+2]=4*F+50);this.easeElapsedTime=0,this.tSpeed=8}if(1e3==this.frame){for(var N=0;N<this.meshList.length;N++)for(var J=0;J<4;J++)if(N>=80*J&&N<80*(J+1))for(var q=0;q<4;q++)if(N>=80*J+20*q&&N<80*J+20*(q+1))for(var X=0;X<10;X++)N>=80*J+20*q+2*X&&N<80*J+20*q+2*(X+1)&&(this.posTarget[3*N+0]=70*Math.sin(4*N*Math.PI/180)+50,this.posTarget[3*N+1]=70*Math.cos(40*(J+q+X)*Math.PI/180)+25,this.posTarget[3*N+2]=-70*Math.sin(8*N*Math.PI/180)+50);this.easeElapsedTime=0,this.tSpeed=12}if(1150==this.frame){for(var Z=0;Z<this.meshList.length;Z++)for(var Q=0;Q<4;Q++)if(Z>=80*Q&&Z<80*(Q+1))for(var Y=0;Y<4;Y++)if(Z>=80*Q+20*Y&&Z<80*Q+20*(Y+1))for(var $=0;$<10;$++)Z>=80*Q+20*Y+2*$&&Z<80*Q+20*Y+2*($+1)&&(this.posTarget[3*Z+0]=25*Q,this.posTarget[3*Z+1]=0,this.posTarget[3*Z+2]=25*Y);this.easeElapsedTime=0,this.tSpeed=4}if(1270==this.frame){for(var tt=0;tt<this.meshList.length;tt++)for(var et=0;et<4;et++)if(tt>=80*et&&tt<80*(et+1))for(var ot=0;ot<4;ot++)if(tt>=80*et+20*ot&&tt<80*et+20*(ot+1))for(var nt=0;nt<20;nt++)tt>=80*et+20*ot+1*nt&&tt<80*et+20*ot+1*(nt+1)&&(this.posTarget[3*tt+0]=20*et,this.posTarget[3*tt+1]=5*nt,this.posTarget[3*tt+2]=20*ot);this.easeElapsedTime=0,this.tSpeed=4}if(1370==this.frame){for(var rt=0;rt<this.meshList.length;rt++)for(var it=0;it<4;it++)if(rt>=80*it&&rt<80*(it+1))for(var at=0;at<4;at++)if(rt>=80*it+20*at&&rt<80*it+20*(at+1))for(var st=0;st<10;st++)rt>=80*it+20*at+2*st&&rt<80*it+20*at+2*(st+1)&&(this.posTarget[3*rt+0]=25*(it+st),this.posTarget[3*rt+1]=15*st,this.posTarget[3*rt+2]=25*(at+st));this.easeElapsedTime=0,this.tSpeed=10}1470==this.frame&&0==this.openingIsEnd&&(this.openingIsEnd=!0)}}]),o}(K.Scene),Qe=window.AFRAME.registerComponent(B,{props:{},modules:{},init:function(){var t=this;console.log("Background Component Init."),this.props.scene=this.el.object3D;var e=document.createElement("a-entity");e.setAttribute("id",d),this.props.container=this.el.appendChild(e),this.modules.scene=new Je,this.modules.scene.setup(),setTimeout((function(){t.props.container.object3D.add(t.modules.scene)}),1e3)},tick:function(){this.modules.scene.update()},onKeyUp:function(t){null!=this.modules.scene&&this.modules.scene.onKeyUp(t)}});o(47);function Ye(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function $e(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function to(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var eo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.params=e,this.index=e.index||0,this.name=e.name||e.boardID||"Board".concat(Date.now()),this.category=e.category,this.boardId=e.boardId||A,this.entities={board:null},this.width=12,this.height=.5625*this.width,this.position=new K.Vector3,this.rotation=new K.Vector3,this.scale=new K.Vector3(this.width,this.height,1),this.containers=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(o),!0).forEach((function(e){$e(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Ye(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({board:document.getElementById(C),boardContent:null,boardContentBody:null},e.containers),this.materials={board:"shader: html; color: #ccc; transparent: true; target: #".concat(this.name)}}var e,o,n;return e=t,(o=[{key:"createBoard",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"board",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.containers.board,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.materials.board,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.entities[t]=document.createElement("a-entity"),this.entities[t].setAttribute("geometry","primitive: plane"),this.entities[t].setAttribute("material",o),this.entities[t].setAttribute(M,""),n&&this.entities[t].setAttribute("class",P),this.entities[t].instance=this,e.appendChild(this.entities[t])}},{key:"createContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.containers.boardContent,o=document.createElement("div");return o.setAttribute("id","".concat(this.name)),o.insertAdjacentHTML("afterbegin",t),e.appendChild(o),o}},{key:"draw",value:function(){var t=this;this.entities.forIn((function(e,o){o.setAttribute("position",t.position),o.setAttribute("rotation",t.rotation),o.setAttribute("scale",t.scale)}))}},{key:"destroy",value:function(){this.containers.board.removeChild(this.entities.board),null!=this.containers.boardContent&&null!=this.containers.boardContentBody&&this.containers.boardContent.removeChild(this.containers.boardContentBody),this.entities.board.destroy()}},{key:"setPosition",value:function(t,e,o){this.position.set(t,e,o)}},{key:"lookAt",value:function(t){null!=t&&t instanceof K.Vector3||(t=new K.Vector3);var e=180+180*Math.atan2(this.position.x-t.x,this.position.z-t.z)/Math.PI;this.rotation.set(0,e,0)}},{key:"onRaycastForcedOn",value:function(t){}},{key:"onRaycastForcedOff",value:function(t){}}])&&to(e.prototype,o),n&&to(e,n),t}();function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ro(t,e){return(ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=so(t);if(e){var r=so(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return ao(this,o)}}function ao(t,e){return!e||"object"!==oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(i,t);var e,o,n,r=io(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).width=12,e.height=12,e.scale=new K.Vector3(e.width,e.height,1),e.init(),e}return e=i,(o=[{key:"init",value:function(){var t;switch(this.boardId){case V.ShowCategoryA:t='\n        <div class="hud_ui" style="background-color: #ccc">A</div>\n        ';break;case V.ShowCategoryD:t='\n        <div class="hud_ui" style="background-color: #ccc">D</div>\n        ';break;case V.ShowCategoryG:t='\n        <div class="hud_ui" style="background-color: #ccc">G</div>\n        ';break;case V.VRModeStart:t='\n        <div class="hud_ui" style="background-color: #ccc">VR Mode Start</div>\n        ';break;default:t='\n        <div class="hud_ui" style="background-color: #ccc">BACK</div>\n        '}this.containers.boardContentBody=this.createContent(t),this.createBoard()}}])&&no(e.prototype,o),n&&no(e,n),i}(eo);function ho(t){return function(t){if(Array.isArray(t))return lo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lo(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lo(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var uo={init_base:function(t){this.scene=t,this.containers={hud:{back:null}},this.boardList=[],this.hudUIList=[]},init:function(t){this.init_base(t)},draw:function(){this.boardList.forEach((function(t){return t.draw()})),this.hudUIList.forEach((function(t){return t.draw()}))},destroy:function(){this.boardList.forEach((function(t){return t.destroy()})),this.hudUIList.forEach((function(t){return t.destroy()}))},generateContainer:function(t,e){var o=document.getElementById(t);if(null!=o)return o;var n=document.createElement("a-entity");return n.setAttribute("id",t),e.appendChild(n)},generateHUD:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V.BackToCategory,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,12,-20];this.containers[t]=this.generateContainer(k,this.scene);var o=document.getElementById(m),n={boardId:t,containers:{board:this.containers[t],boardContent:o}},r=new co(n);r.setPosition.apply(r,ho(e)),this.hudUIList.push(r)},showBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.boardList,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.length,i=null!=t?t+2:360/r;n=null==n?-90-(r-1)*i/2:n;for(var a=0;a<r;a++){var s=e[a],c=a*i+n;s.setPosition(o*Math.cos(K.Math.degToRad(c)),s.position.y,o*Math.sin(K.Math.degToRad(c))),s.lookAt()}}};function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function po(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function mo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?po(Object(o),!0).forEach((function(e){go(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):po(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function go(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function yo(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bo(t,e,o){return(bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Co(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(o):r.value}})(t,e,o||t)}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Co(t);if(e){var r=Co(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return To(this,o)}}function To(t,e){return!e||"object"!==fo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(i,t);var e,o,n,r=wo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).name="poster".concat(t.index),e.boardId=I,e.materials={board:"shader: flat; color: #999; src: ".concat(t.containers.boardContentBody),title:"shader: html; color: #999; transparent: true; target: #".concat(e.name)},e.entities=mo(mo({},e.entities),{},{title:null}),e.init(),e}return e=i,(o=[{key:"init",value:function(){this.containers.titleContentBody=this.createContent('\n    <div class="gallery_poster_title">'.concat(this.containers.titleContentBody,"</div>\n    "),this.containers.titleContent),this.containers.title.object3D.position.set(0,-6.75,0),this.createBoard("title",this.containers.title,this.materials.title,!1),this.createBoard()}},{key:"destroy",value:function(){bo(Co(i.prototype),"destroy",this).call(this),null!=this.containers.titleContentBody&&(this.containers.title.removeChild(this.entities.title),this.containers.titleContent.removeChild(this.containers.titleContentBody),this.entities.title.destroy())}},{key:"onRaycastForcedOn",value:function(t){this.entities.title.object3DMap.mesh.material.color=new K.Color(1,1,1)}},{key:"onRaycastForcedOff",value:function(t){this.entities.title.object3DMap.mesh.material.color=new K.Color(.6,.6,.6)}}])&&yo(e.prototype,o),n&&yo(e,n),i}(eo);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Po(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ko(t,e){return(ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=So(t);if(e){var r=So(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return jo(this,o)}}function jo(t,e){return!e||"object"!==Oo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function So(t){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ko(t,e)}(i,t);var e,o,n,r=Eo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).width=12,e.height=e.width,e.scale=new K.Vector3(e.width,e.height,1),e.init(),e}return e=i,(o=[{key:"init",value:function(){var t,e,o,n,r,i,a;this.containers.boardContentBody=this.createContent((t=this.params,e="abcdefs".substr(t.index,1),o=t.data[e],n=o.categoryEn,r=o.categoryJp,i=o.copy,a="s"===e?"特別展示":e.toUpperCase(),'\n\t\t<div class="category_content_container category_'.concat(e,'">\n\t\t\t<div class="category_id">').concat(a,'</div>\n\t\t\t<div class="category_title english">').concat(n,'</div>\n\t\t\t<div class="category_title japanese">').concat(r,'</div>\n\t\t\t<div class="category_copy">').concat(i,"</div>\n\t\t</div>\n\t"))),this.createBoard()}}])&&Po(e.prototype,o),n&&Po(e,n),i}(eo);function Bo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Do(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Bo(Object(o),!0).forEach((function(e){Lo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Bo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Lo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var Ro=Do(Do({},uo),{},{init:function(t){this.init_base(t),this.containers=Do(Do({},this.containers),{},{category:{board:null},poster:{panel:null,title:null}}),this.currentCategory="",this.addEvent(),this.generateCategory(Yt)},generatePosters:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentCategory;this.currentCategory=t,this.containers.poster.panel=this.generateContainer(j,this.scene),this.containers.poster.title=this.generateContainer(S,this.containers.poster.panel),this.containers.poster.titleContent=document.getElementById(b),this.boardList.length=0,this.hudUIList.length=0;for(var e=Yt[t],o=e.imgPath.length,n=0;n<o;n++){var r={index:n,name:"poster".concat(n),category:t,boardId:I,containers:{board:this.containers.poster.panel,boardContentBody:e.imgPath[n],title:this.containers.poster.title,titleContent:this.containers.poster.titleContent,titleContentBody:e.posterTitle[n]},data:e};this.boardList.push(new _o(r))}this.generateHUD(),this.showBoard(34)},generateHUDs:function(){var t=this;this.generateHUD(V.BackToCategory,[25,12,-20]),setTimeout((function(){t.generateHUD(V.ShowCategoryA,[5,12,-20])}),10),setTimeout((function(){t.generateHUD(V.ShowCategoryD,[10,12,-20])}),20),setTimeout((function(){t.generateHUD(V.ShowCategoryG,[15,12,-20])}),30),setTimeout((function(){t.generateHUD(V.VRModeStart,[20,12,-20])}),40),setTimeout((function(){t.showBoard(34,t.boardList,20),t.showBoard(34,t.hudUIList,20,-150)}),50)},generateCategory:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;this.containers.category.board=this.generateContainer(E,this.scene),this.boardList.length=0,this.hudUIList.length=0;for(var e=document.getElementById(g),o=Object.keys(t),n=o.length,r=0;r<n;r++){var i={index:r,name:"category".concat(r),category:o[r],boardId:A,containers:{board:this.containers.category.board,boardContent:e},data:t};this.boardList.push(new xo(i))}this.generateHUDs()},addEvent:function(){var t=this;document.addEventListener(a,(function(e){var o=e.detail.data;console.log("Category ".concat(o)),null!=o&&(t.destroy(),t.generatePosters(o))})),document.addEventListener(s,(function(e){t.destroy()})),document.addEventListener(c,(function(e){t.destroy(),t.generateCategory(Yt)})),document.addEventListener(h,(function(e){t.generatePosters()}))}}),Mo=window.AFRAME.registerComponent(D,{props:{},modules:{},init:function(){console.log("Gallery Component Init."),this.props.scene=this.el.object3D,this.props.container=this.el.appendChild(document.createElement("a-entity")),this.modules.gallery=Ro,this.modules.gallery.init(this.props.container)},tick:function(){null!=this.modules.gallery&&this.modules.gallery.draw()},onKeyUp:function(t){}});function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Io(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Uo(t);if(e){var r=Uo(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Go(this,o)}}function Go(t,e){return!e||"object"!==Ao(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uo(t){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(i,t);var e,o,n,r=Vo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this,t)).width=15,e.height=15,e.scale=new K.Vector3(e.width,e.height,1),e.materials={board:"shader: html; color: #fff; transparent: true; target: #".concat(e.name)},e.init(),e}return e=i,(o=[{key:"init",value:function(){switch(this.params.index){case 1:this.materials.board="shader: flat; color: #fff; src: ./../session/img/D05.png",this.scale=new K.Vector3(this.width,.5625*this.height,1);break;case 3:this.materials.board="shader: flat; color: #fff; src: ./../session/img/D06.png",this.scale=new K.Vector3(this.width,.5625*this.height,1);break;default:this.containers.boardContentBody=this.createContent(function(t){var e=t.index,o=t.data,n=(o.title,o.author,o.content,o.excerpt,'\n\t<div class="detail_content_container '.concat(t.name,'">\n\t<div class="detail_content_container_inner">\n\t'));switch(e){case 0:n="".concat(n,'\n\t\t\t<div class="detail_dummy">\n\t\t\t<h1>本文１</h1>\n\t\t\t<div>ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t');break;case 2:n="".concat(n,'\n\t\t\t<div class="detail_dummy">\n\t\t\t<h1>タイトル</h1>\n\t\t\t<h2>メタ情報</h2>\n\t\t\t<h3>サマリー</h3>\n\t\t\t<div>ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t');break;case 4:n="".concat(n,'\n\t\t\t<div class="detail_dummy">\n\t\t\t<h1>本文２</h1>\n\t\t\t<div>ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t');break;default:n="".concat(n,'\n\t\t\t<div class="detail_dummy">ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\tダミーテキストです■ダミーテキストです■ダミーテキストです■\n\t\t\t</div>\n\t\t')}return n="".concat(n,"</div></div>")}(this.params))}this.createBoard("board",this.containers.board,this.materials.board,!1)}}])&&Io(e.prototype,o),n&&Io(e,n),i}(eo);function Fo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Ko(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Fo(Object(o),!0).forEach((function(e){Ho(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Fo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Ho(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var No=Ko(Ko({},uo),{},{init:function(t){var e=this;this.init_base(t),this.containers=Ko(Ko({},this.containers),{},{detail:{}}),this.addEvent(),_t("./../data/entry_dummy.json",(function(t){var o=JSON.parse(t.result);Array.isArray(o)&&o.length>0&&(e.entry=o[0],console.log("Entry json has been loaded."))}))},generateContent:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.containers.detail.board=this.generateContainer(x,this.scene),this.boardList.length=0,this.hudUIList.length=0;for(var t=document.getElementById(w),e=this.entry,o=5,n=0;n<o;n++){var r={index:n,name:"detail".concat(e.id,"_").concat(n),boardId:z,containers:{board:this.containers.detail.board,boardContent:t},data:e};this.boardList.push(new Wo(r))}this.showBoard(48,this.boardList,18),this.generateHUD(V.BackToPoster,[0,15,-20])},addEvent:function(){var t=this;document.addEventListener(s,(function(e){var o=e.detail;console.log("Show detail: Entry ".concat(o)),t.generateContent()})),document.addEventListener(h,(function(e){console.log("Go back Posters"),t.destroy()}))}}),Jo=window.AFRAME.registerComponent(L,{props:{},modules:{},init:function(){console.log("Detail Component Init."),this.props.scene=this.el.object3D,this.props.container=this.el.appendChild(document.createElement("a-entity")),this.modules.detail=No,this.modules.detail.init(this.props.container)},tick:function(){null!=this.modules.detail&&this.modules.detail.draw()},onKeyUp:function(t){}}),qo=window.AFRAME.registerComponent(R,{props:{},init:function(){var t=this;this.el.addEventListener("raycaster-intersection",(function(e){var o=e.detail.intersections;o.length>0&&(o[0].object.el.instance.onRaycastForcedOn(t.el),o[0].object.material.color.set(U))})),this.el.addEventListener("raycaster-intersection-cleared",(function(e){for(var o=e.detail.clearedEls,n=0;n<o.length;n++){var r=o[n].object3DMap;"mesh"in r&&(r.mesh.el.instance.onRaycastForcedOff(t.el),r.mesh.material.color.set(G))}}))}}),Xo=window.AFRAME.registerComponent(M,{init:function(){var t=this;this.el.addEventListener("click",(function(e){switch(t.el.object3DMap.mesh.material.color.set(16711680),t.el.instance.boardId){case I:document.dispatchEvent(new CustomEvent(s,{detail:{data:{category:t.el.instance.category,index:t.el.instance.index}}}));break;case A:document.dispatchEvent(new CustomEvent(a,{detail:{data:t.el.instance.category}}));break;case V.BackToCategory:document.dispatchEvent(new CustomEvent(c));break;case V.BackToPoster:document.dispatchEvent(new CustomEvent(h));break;case V.VRModeStart:document.dispatchEvent(new CustomEvent(l));break;case V.ShowCategoryA:document.dispatchEvent(new CustomEvent(u));break;case V.ShowCategoryD:document.dispatchEvent(new CustomEvent(f));break;case V.ShowCategoryG:document.dispatchEvent(new CustomEvent(p))}}))}});function Zo(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function Qo(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Zo(Object(o),!0).forEach((function(e){Yo(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Zo(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function Yo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var $o=Qo(Qo({},F),{},{props:{elements:{}},components:{},init:function(){return console.log("XR App Init."),this.components.background=Qe,this.components.gallery=Mo,this.components.detail=Jo,this.components.raycastCheck=qo,this.components.raycastTarget=Xo,this},setup:function(){this.props.elements.scene=document.getElementById(C),this.attachComponent(this.props.elements.scene,B),this.attachComponent(this.props.elements.scene,D),this.attachComponent(this.props.elements.scene,L),this.props.elements.xr_player=this.attachComponent(document.getElementById(_),R),this.props.elements.xr_raycaster=document.getElementById(O),this.attachComponent(this.props.elements.xr_raycaster,"raycaster","objects: .".concat(P)),this.attachComponent(this.props.elements.xr_raycaster,"cursor","fuse: false; fuse-timeout: 2000")},attachComponent:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t?t.setAttribute(e,o):null},onKeyUp:function(t){null!=this.components.background&&this.components.background.prototype.onKeyUp(t)}});function tn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function en(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(o),!0).forEach((function(e){on(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):tn(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function on(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var nn=en(en({},F),{},{props:{instance:null},init:function(){return this.props.instance=$o.init(),this},setup:function(){this.props.instance.setup()},update:function(){},draw:function(){},destroy:function(){},onResize:function(){this.props.instance.onResize()},onMouseMove:function(t){this.props.instance.onMouseMove(t)},onKeyUp:function(t){this.props.instance.onKeyUp(t)}}),rn={props:{isPause:!1},instances:{},init:function(){return W()?this.instances.xr=nn.init():(this.instances.background=Xt.init(),this.instances.gallery=Ce.init()),this.addEvent(),this.setup(),this},setup:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.instances.forIn((function(t,e){return e.setup()})),this.update()},update:function(){var t=this;this.instances.forIn((function(t,e){return e.update()})),window.requestAnimationFrame((function(){t.props.isPause||t.update()})),this.draw()},draw:function(){this.instances.forIn((function(t,e){return e.draw()}))},destroy:function(){},pause:function(){this.props.isPause=!0},resume:function(){this.props.isPause=!1},onResize:function(){this.instances.forIn((function(t,e){return e.onResize()}))},onMouseMove:function(t){this.instances.forIn((function(e,o){return o.onMouseMove(t)}))},onKeyUp:function(t){this.instances.forIn((function(e,o){return o.onKeyUp(t)}))},onClick:function(t){this.instances.forIn((function(e,o){return o.onClick(t)}))},addEvent:function(t){}},an=an||{};an.PosterSession=an.PosterSession||{},an.PosterSession.App={delegator:null,init:function(){this.addExtensions(),this.delegator=rn.init(),this.addEvent()},onResize:function(){this.delegator.onResize()},onMouseMove:function(t){this.delegator.onMouseMove(t)},onKeyUp:function(t){this.delegator.onKeyUp(t)},onClick:function(t){this.delegator.onClick(t)},addEvent:function(){var t=this;window.addEventListener("resize",(function(){return t.onResize()})),window.addEventListener("mousemove",(function(e){return t.onMouseMove(e)})),window.addEventListener("keyup",(function(e){return t.onKeyUp(e)})),document.addEventListener("click",(function(e){return t.onClick(e)}))},addExtensions:function(){n.init()}},window.addEventListener("DOMContentLoaded",(function(){!function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r.enable=t}(document.getElementsByTagName("a-scene").length>0),console.log("VRMode: ".concat(W())),an.PosterSession.App.init()}))}});